{"meta":{"title":"Limbo's Wiki","subtitle":"","description":"","author":"Limbo","url":"http://taizilongxu.github.io/wiki","root":"/wiki/"},"pages":[{"title":"About","date":"2020-01-15T12:06:59.176Z","updated":"2020-01-15T12:06:59.176Z","comments":true,"path":"about/index.html","permalink":"http://taizilongxu.github.io/wiki/about/index.html","excerpt":"","text":""},{"title":"Tags","date":"2020-01-15T12:06:59.176Z","updated":"2020-01-15T12:06:59.176Z","comments":true,"path":"tags/index.html","permalink":"http://taizilongxu.github.io/wiki/tags/index.html","excerpt":"","text":""},{"title":"Categories","date":"2020-01-15T12:06:59.177Z","updated":"2020-01-15T12:06:59.177Z","comments":true,"path":"categories/index.html","permalink":"http://taizilongxu.github.io/wiki/categories/index.html","excerpt":"","text":""}],"posts":[{"title":"ä¸‹è½½åŸç†","slug":"download","date":"2020-02-19T16:29:58.638Z","updated":"2020-02-19T16:30:22.726Z","comments":true,"path":"wiki/download/","link":"","permalink":"http://taizilongxu.github.io/wiki/wiki/download/","excerpt":"","text":"Torrent Magnet","categories":[],"tags":[]},{"title":"é£Ÿæ","slug":"GYM/gym","date":"2020-02-18T13:46:07.435Z","updated":"2020-02-24T17:23:27.687Z","comments":true,"path":"wiki/GYM/gym/","link":"","permalink":"http://taizilongxu.github.io/wiki/wiki/GYM/gym/","excerpt":"","text":"ç¡¬ä»¶ ç”µé¥­é”… ç”µç£ç‚‰: ç±³å®¶ç”µç£ç‚‰é’æ˜¥ç‰ˆ ç…é”…, é›ªå¹³é”… å¨æˆ¿çº¸ ç §æ¿ åˆ€å…·: ä¸‰å¾·åˆ€åŸºæœ¬å¤Ÿç”¨, åæœŸå‡çº§å¯ä»¥åŠ ä¸ªåˆ‡ç‰‡åˆ€ æ‹Œæ–™ æ©„æ¦„æ²¹, PAM é»‘èƒ¡æ¤’ å­œç„¶ ç› é…±æ²¹ æ–™é…’ è€—æ²¹ é£Ÿæè›‹ç™½è´¨ åç§° GI çƒ­é‡å¤§å¡ å¸¸æ¸©å­˜å‚¨ å†·è—å­˜å‚¨ å†·å†»å­˜å‚¨ ç‰›è‚‰ğŸ‚ 46 318 2å°æ—¶ 1-2å¤© 6-8æœˆ é¸¡èƒ¸è‚‰ğŸ“ 45 200 2å°æ—¶ 1-2å¤© 1å¹´ é¾™åˆ©é±¼ğŸŸ 40 67 2å°æ—¶ 1-2å¤© 6-9æœˆ é‡‘æªé±¼ğŸŸ 40 99 2å°æ—¶ 1-2å¤© 6-9æœˆ æ²™ä¸é±¼ğŸŸ 40 89 2å°æ—¶ 1-2å¤© 6-9æœˆ è™¾ä»ğŸ¤ 40 83 é¸¡è›‹ğŸ¥š 30 151 æ•°å°æ—¶ 3-4å‘¨ ä¸å¯ ç‰›å¥¶ğŸ¥› 25 67 æ•°å°æ—¶ 5-7å¤© 1ä¸ªæœˆ åŸ¹æ ¹ğŸ¥“ 49 405 2å°æ—¶ 2å‘¨ 4ä¸ªæœˆ è”¬èœ åç§° GI çƒ­é‡å¤§å¡ å¸¸æ¸©å­˜å‚¨ å†·è—å­˜å‚¨ å†·å†»å­˜å‚¨ ç‰ç±³ğŸŒ½ 70 92 1-3å¤© 1-2å‘¨ 3-5æœˆ çº¢èåœğŸ¥• 80 37 4å¤© 4-5å‘¨ 8-12æœˆ é©¬é“ƒè–¯ğŸ¥” 90 65 1ä¸ªæœˆ 3-4æœˆ ä¸å¯å†·å†» çº¢è–¯ 76 61 å±±è¯ 75 50 ç•ªèŒ„ğŸ… 30 19 5-7å¤© 2å‘¨ 8-12æœˆ é»„ç“œğŸ¥’ 23 14 1-3å¤© 1å‘¨ 8-12æœˆ è¥¿å…°èŠ±ğŸ¥¦ 25 36 2å¤© 7-14å¤© 8-12æœˆ å—ç“œğŸƒ 65 91 ä¸»é£Ÿ åç§° GI çƒ­é‡å¤§å¡ ç±³é¥­ğŸš 84 356 é¦’å¤´ 88 233 ç³™ç±³ğŸš 56 350 ç‡•éº¦ğŸ¥£ 55 380 å…¨éº¦é¢åŒ…ğŸ 50 378 é»‘éº¦é¢åŒ…ğŸ 58 264 æ„å¤§åˆ©é¢ğŸ 55 378 èéº¦é¢ğŸ 59 274 æ°´æœ åç§° GI çƒ­é‡å¤§å¡ å¸¸æ¸©å­˜å‚¨ å†·è—å­˜å‚¨ å†·å†»å­˜å‚¨ é¦™è•‰ğŸŒ 55 154 2-7å¤© 5-9å¤© 2-3ä¸ªæœˆ èŠ’æœğŸ¥­ 49 64 å“ˆå¯†ç“œğŸˆ 41 42 ç†Ÿé€ä¹‹å‰ 1å‘¨ 8-12æœˆ æ¡ƒå­ğŸ‘ 41 40 ç†Ÿé€ä¹‹å‰ 2-5å¤© 8-12ä¸ªæœˆ è‹¹æœğŸ 36 54 2-4å‘¨ 1-2æœˆ 8-12æœˆ å¥‡å¼‚æœğŸ¥ 35 35 æ¢¨ğŸ 32 43 æœ¨ç“œ 30 38 æ©™å­ğŸŠ 31 46 æ©˜å­ğŸŠ 31 60 æŸ æª¬ğŸ‹ 34 54 2-4å‘¨ 1-2æœˆ 3-4æœˆ è‰è“ğŸ“ 29 34 1-2å¤© 5-7å¤© 6-8ä¸ªæœˆ è‘¡è„ğŸ‡ 50 55 3-5å¤© 7-10å¤© 3-5ä¸ªæœˆ å¥èº«é¤ç‰›æ’ç´ æ ç‰›æ’ æ©„æ¦„æ²¹ é»‘èƒ¡æ¤’ ç› è¿‡ç¨‹ å†·è—è§£å†», å®¤æ¸©è§£å†»æˆ–è€…å†·æ°´è§£å†» ä¸ç”¨æ°´æ¸…æ´—, ç”¨å¨æˆ¿çº¸æ“¦å¹²æ°´åˆ† å®¤æ¸©å›æ¸©è‡³å°‘ 30 min ä»¥ä¸Š, åšçš„ 1 å°æ—¶ä»¥ä¸Š æŠ¹ä¸Šæ©„æ¦„æ²¹, ä¸¤é¢ç”¨é»‘èƒ¡æ¤’å’Œç›è°ƒå‘³ 15s ä¸€æ¬¡ç¿»é¢ é†’è‚‰ åƒ ç”µé¥­é”…ç…®é¸¡è›‹ç´ æ é¸¡è›‹ æ°´ è¿‡ç¨‹ ç”µé¥­é”…é“ºä¸Šé¤å¨çº¸ å‡åŒ€æµ‡ä¸Š 100ml æ°´ ç­‰å¾…è·³é—¸åé—· 5 åˆ†é’Ÿ æ‹¿å‡ºæ”¾å…¥å‡‰æ°´å†·å´å¥½æ‰’çš® è’¸ç´«è–¯ç´ æ: ç´«è–¯ è¿‡ç¨‹ åˆ‡å— è’¸ 10-20 åˆ†é’Ÿ å»çš®æ…ç¢å³å¯ ç…é¸¡èƒ¸è‚‰ç´ æ: é¸¡èƒ¸ è¿‡ç¨‹ è§£å†», å®¤æ¸©æˆ–è€…æµæ°´ åˆ‡ç‰‡æˆ–å—, æ›´å®¹æ˜“ç…, ç„¶åå€’å…¥ç”ŸæŠ½, æ–™é…’å’Œè€—æ²¹è…Œåˆ¶ 30 åˆ†é’Ÿ ç”ŸæŠ½, æ–™é…’, è€—æ²¹è…Œåˆ¶ é»‘èƒ¡æ¤’, æµ·ç› ç›, èƒ¡æ¤’, å¡çœŸç²‰ å¤§ç«ç…è‡³ä¸¤é¢é‡‘é»„è‰² æ„é¢ç´ æ: æ„é¢ ç‡•éº¦ç‰‡ ç‡•éº¦ç‰‡ ç‰›å¥¶ é¦™è•‰","categories":[{"name":"GYM","slug":"GYM","permalink":"http://taizilongxu.github.io/wiki/categories/GYM/"}],"tags":[]},{"title":"Linux namespace","slug":"Linux/container/namespace","date":"2020-02-11T16:25:00.488Z","updated":"2020-02-11T17:20:00.853Z","comments":true,"path":"wiki/Linux/container/namespace/","link":"","permalink":"http://taizilongxu.github.io/wiki/wiki/Linux/container/namespace/","excerpt":"","text":"å‚è€ƒèµ„æ–™: https://creaink.github.io/post/Computer/Linux/Linux-namespace.html https://draveness.me/docker Linux namespace æ˜¯ Linux æä¾›çš„ä¸€ç§å†…æ ¸çº§åˆ«ç¯å¢ƒéš”ç¦»æ–¹æ³• åˆ†ç±» namespace éš”ç¦»å†…å®¹ flag å†…æ ¸ UTS ä¸»æœºå CLONE_NEWUTS Linux 2.4.19 IPC è¿›ç¨‹é—´é€šä¿¡ CLONE_NEWIPC Linux 2.6.19 PID chroot è¿›ç¨‹æ ‘ CLONE_NEWPID Linux 2.6.19 NS(Mount) æŒ‚è½½ç‚¹ CLONE_NEWNS Linux 2.6.24 NET ç½‘ç»œè®¿é—®, åŒ…æ‹¬æ¥å£ CLONE_NEWNET Linux 2.6.29 USER è’‹è™šæ‹Ÿçš„æœ¬åœ° UID æ˜ å°„åˆ°çœŸå®çš„ UID CLONE_NEWUSER Linux 3.8 ä¸‰ä¸ªç³»ç»Ÿè°ƒç”¨ clonne() ç±»ä¼¼ fork, å®ç°çº¿ç¨‹çš„ç³»ç»Ÿè°ƒç”¨ï¼Œç”¨æ¥åˆ›å»ºä¸€ä¸ªæ–°çš„è¿›ç¨‹ï¼Œå¹¶å¯ä»¥é€šè¿‡è®¾è®¡ä¸Šè¿°å‚æ•°è¾¾åˆ°éš”ç¦»ã€‚ unshare() ä½¿æŸè¿›ç¨‹è„±ç¦»æŸä¸ªnamespace setns() æŠŠæŸè¿›ç¨‹åŠ å…¥åˆ°æŸä¸ªnamespace å®æ“/proc/[pid]/ns/ ç›®å½•ä¸‹åŒ…å«äº†æŸä¸ªè¿›ç¨‹çš„ namespace æ‰€å±ï¼Œåœ¨ shell ä¸­ $$ ä¸ºå½“å‰è¿›ç¨‹ PID æ‰€ä»¥å¯ä»¥ï¼š 1234567891011121314$ ls -l /proc/$$/nstotal 0lrwxrwxrwx 1 root root 0 Jan 5 00:13 cgroup -&gt; cgroup:[4026531835]lrwxrwxrwx 1 root root 0 Jan 4 06:18 ipc -&gt; ipc:[4026531839]lrwxrwxrwx 1 root root 0 Jan 4 06:18 mnt -&gt; mnt:[4026531840]lrwxrwxrwx 1 root root 0 Jan 4 06:18 net -&gt; net:[4026531957]lrwxrwxrwx 1 root root 0 Jan 4 06:18 pid -&gt; pid:[4026531836]lrwxrwxrwx 1 root root 0 Jan 4 06:18 user -&gt; user:[4026531837]lrwxrwxrwx 1 root root 0 Jan 4 06:18 uts -&gt; uts:[4026531838]$ readlink /proc/$$/ns/utsuts:[4026531838]$ readlink /proc/$PPID/ns/utsuts:[4026531838] /proc/[pid]/mounts ç›®å½•å±•ç°äº†è¿›ç¨‹çš„æŒ‚è½½ç‚¹ï¼Œè€Œ /proc/[pid]/mountinfo é‡Œçš„å†…å®¹æ›´è¯¦ç»†ã€‚","categories":[{"name":"Linux","slug":"Linux","permalink":"http://taizilongxu.github.io/wiki/categories/Linux/"},{"name":"container","slug":"Linux/container","permalink":"http://taizilongxu.github.io/wiki/categories/Linux/container/"}],"tags":[]},{"title":"chroot","slug":"Linux/container/chroot","date":"2020-02-11T16:18:37.641Z","updated":"2020-02-11T17:28:04.630Z","comments":true,"path":"wiki/Linux/container/chroot/","link":"","permalink":"http://taizilongxu.github.io/wiki/wiki/Linux/container/chroot/","excerpt":"","text":"chroot = change root directory é™åˆ¶æ ¹ç›®å½•, é˜²æ­¢è¶Šæƒ","categories":[{"name":"Linux","slug":"Linux","permalink":"http://taizilongxu.github.io/wiki/categories/Linux/"},{"name":"container","slug":"Linux/container","permalink":"http://taizilongxu.github.io/wiki/categories/Linux/container/"}],"tags":[]},{"title":"è™šæ‹Ÿæ–‡ä»¶ç³»ç»Ÿ","slug":"vfs","date":"2020-02-09T15:54:44.180Z","updated":"2020-02-09T15:55:23.562Z","comments":true,"path":"wiki/vfs/","link":"","permalink":"http://taizilongxu.github.io/wiki/wiki/vfs/","excerpt":"","text":"","categories":[],"tags":[]},{"title":"CFS è°ƒåº¦ç®—æ³•","slug":"Linux/cfs","date":"2020-02-06T16:08:13.922Z","updated":"2020-02-06T17:24:48.559Z","comments":true,"path":"wiki/Linux/cfs/","link":"","permalink":"http://taizilongxu.github.io/wiki/wiki/Linux/cfs/","excerpt":"","text":"å‚è€ƒ: https://blog.acean.vip/post/linux-kernel/gai-shu-linuxnei-he-san-jia-ma-che-zhi-jin-cheng-guan-li Completely Fair Scheduler: å®Œå…¨å…¬å¹³è°ƒåº¦å™¨ æ ¸å†…è°ƒåº¦ åªå¤„ç† TASK_RUNINNG çŠ¶æ€çš„ task_struct åªé’ˆå¯¹ normal çº¿ç¨‹ ç®—æ³•å…³é”®: çº¢é»‘æ ‘ vtime = ptime * 1024 / weight ptime ä¸ºå®é™…æ‰§è¡Œæ—¶é—´, weight ä¸º æƒé‡, è·Ÿä½  nice å€¼å¯¹åº”","categories":[{"name":"Linux","slug":"Linux","permalink":"http://taizilongxu.github.io/wiki/categories/Linux/"}],"tags":[]},{"title":"","slug":"saltstack","date":"2020-02-02T16:48:46.058Z","updated":"2020-02-02T16:48:49.929Z","comments":true,"path":"wiki/saltstack/","link":"","permalink":"http://taizilongxu.github.io/wiki/wiki/saltstack/","excerpt":"","text":"","categories":[],"tags":[]},{"title":"","slug":"ansible","date":"2020-02-02T16:48:36.601Z","updated":"2020-02-02T16:48:43.478Z","comments":true,"path":"wiki/ansible/","link":"","permalink":"http://taizilongxu.github.io/wiki/wiki/ansible/","excerpt":"","text":"","categories":[],"tags":[]},{"title":"ç¼–è¯‘åŸç†","slug":"compiler","date":"2020-01-31T18:14:03.524Z","updated":"2020-01-31T18:17:39.622Z","comments":true,"path":"wiki/compiler/","link":"","permalink":"http://taizilongxu.github.io/wiki/wiki/compiler/","excerpt":"","text":"","categories":[],"tags":[]},{"title":"switch ç ´è§£åŸç†","slug":"Hack/switch","date":"2020-01-27T02:26:51.862Z","updated":"2020-01-31T18:16:27.562Z","comments":true,"path":"wiki/Hack/switch/","link":"","permalink":"http://taizilongxu.github.io/wiki/wiki/Hack/switch/","excerpt":"","text":"æ•™ç¨‹: https://github.com/ln93/kosmos_chs_tutorial æ¼æ´: Nvidia Tegra X1 ç ´è§£åŸç†: https://media.ccc.de/v/c4.openchaos.2018.06.glitching-the-switch#t=49 ç ´è§£åŸç†ç®€å•ç‰ˆ: https://www.youtube.com/watch?v=L3PPWVPg2WI&amp;vl=en ç¡¬ä»¶å‚æ•°: CPU: Tegra X1 T210 GPU: Nvidia Maxwell GPU RAM: 4GB LPDDRR4 å¤§è‡´ç ´è§£åŸç†: Tegra X1 æœ‰ä¸ª recovery æ¨¡å¼çš„æ¼æ´, è¿™ä¸ªæ˜¯åœ¨å’Œ switch åŒæ ·çš„ç¡¬ä»¶ä¸­å‘ç°çš„, åœ¨ switch é‡Œå°±æ˜¯æˆ‘ä»¬ç†ŸçŸ¥çš„çŸ­æ¥ è¿™ä¸ªæ¼æ´ä¸»è¦åˆ©ç”¨ BootRom å¯åŠ¨çš„æ—¶å€™é€šè¿‡ USB è¿›è¡Œé€šè®¯ ![image-20200128012739143](/Users/limbo/Library/Application Support/typora-user-images/image-20200128012739143.png) USB é€šè®¯æœ‰ç­¾å, è¿™ä¸ªæ— æ³•ç»•è¿‡ ![image-20200128020009026](/Users/limbo/Library/Application Support/typora-user-images/image-20200128020009026.png) ä½†æ˜¯å¯ä»¥æ§åˆ¶é€šä¿¡åè®®é•¿åº¦, è®©å¤åˆ¶åˆ° DMA çš„å†…å­˜æº¢å‡º, å ç”¨å †æ ˆçš„åœ°å€, å‡½æ•°è¿”å›çš„ stack åœ°å€å°±å¯ä»¥æ¥æ”¶ç³»ç»Ÿæ§åˆ¶æƒäº† ç ´è§£è¿‡ç¨‹: TF å¡é‡Œå…ˆå†™å…¥æˆ‘ä»¬è¦æ¥ç®¡çš„ç¨‹åº é€šè¿‡çŸ­æ¥ switch è¿›å…¥ RCM æ¨¡å¼ é€šè¿‡ USB è¿æ¥ç”µè„‘æˆ–è€…æ‰‹æœº(æ³¨å…¥ RCM), é€šè¿‡æ³¨å…¥è·³è½¬åˆ°æˆ‘ä»¬å†™å¥½çš„ TF å¡é‡Œçš„ç¨‹åº","categories":[{"name":"Hack","slug":"Hack","permalink":"http://taizilongxu.github.io/wiki/categories/Hack/"}],"tags":[]},{"title":"docker internal","slug":"docker","date":"2020-01-22T09:29:30.607Z","updated":"2020-02-11T17:29:20.682Z","comments":true,"path":"wiki/docker/","link":"","permalink":"http://taizilongxu.github.io/wiki/wiki/docker/","excerpt":"","text":"https://medium.com/@nagarwal/understanding-the-docker-internals-7ccb052ce9fe Docker åº•å±‚ä¸‰å¤§æŠ€æœ¯ union filesystem, cgroup, namespace","categories":[],"tags":[]},{"title":"cgroup","slug":"Linux/container/cgroup","date":"2020-01-22T07:00:22.615Z","updated":"2020-02-11T16:19:19.519Z","comments":true,"path":"wiki/Linux/container/cgroup/","link":"","permalink":"http://taizilongxu.github.io/wiki/wiki/Linux/container/cgroup/","excerpt":"","text":"å‚è€ƒèµ„æ–™: https://tech.meituan.com/2015/03/31/cgroups.html https://blog.csdn.net/zsj100213/article/details/89088446 http://www.manongjc.com/article/7475.html https://zhuanlan.zhihu.com/p/81668069 ç”±æ¥cgroups(contol groups), google å·¥ç¨‹å¸ˆæå‡º, æ•´åˆè¿› Linux å†…æ ¸, æ˜¯ LXC çš„åŸºç¡€ ä½œç”¨ é™åˆ¶å•ä¸ªè¿›ç¨‹æˆ–å¤šä¸ªè¿›ç¨‹ä½¿ç”¨èµ„æº, å¯ä»¥å¯¹ cpu, mem å®ç°ç²¾ç»†åŒ–çš„æ§åˆ¶ èµ„æºé™åˆ¶ ä¼˜å…ˆçº§åˆ†é… èµ„æºç»Ÿè®¡ ä»»åŠ¡æ§åˆ¶ æ•´ä½“æ¡†æ¶ Filesystem: ç±»ä¼¼äº /proc subsystem: å¯é…ç½®èµ„æº, ä¾‹å¦‚ cpu, mem task: è¿›ç¨‹åœ¨ cgroup é‡Œç§°ä¸º task, taskid ä¸º pid libcgroup: å¼€æºè½¯ä»¶, æ–¹ä¾¿é…ç½® è¯´æ˜: ç¬¬ä¸€å±‚ä¸º subsystem, å¯¹åº”ä¸é€šçš„ç‰©ç†èµ„æº ç¬¬äºŒå±‚ä¸º cgroup ç»“æ„ä½“, æè¿°å¯¹åº”å­ç³»ç»Ÿçš„èµ„æºå ç”¨ css_set(cgroup subststem set) è¾…åŠ©æ•°æ®ç»“æ„, æè¿°æ‰€æœ‰èµ„æºé™åˆ¶ P è¿›ç¨‹, ä¸€ä¸ªè¿›ç¨‹å¯¹åº”ä¸€ä¸ª css_set å®æ“æŸ¥çœ‹æŒ‚è½½ç‚¹ 123456789101112$ mount | grep cgrouptmpfs on /sys/fs/cgroup type tmpfs (ro,nosuid,nodev,noexec,mode=755) # tmpfs å†…å­˜ä¸´æ—¶æ–‡ä»¶å‘¢cgroup on /sys/fs/cgroup/systemd type cgroup (rw,nosuid,nodev,noexec,relatime,xattr,release_agent=/usr/lib/systemd/systemd-cgroups-agent,name=systemd)cgroup on /sys/fs/cgroup/devices type cgroup (rw,nosuid,nodev,noexec,relatime,devices)cgroup on /sys/fs/cgroup/cpu,cpuacct type cgroup (rw,nosuid,nodev,noexec,relatime,cpuacct,cpu)cgroup on /sys/fs/cgroup/blkio type cgroup (rw,nosuid,nodev,noexec,relatime,blkio)cgroup on /sys/fs/cgroup/freezer type cgroup (rw,nosuid,nodev,noexec,relatime,freezer)cgroup on /sys/fs/cgroup/net_cls type cgroup (rw,nosuid,nodev,noexec,relatime,net_cls)cgroup on /sys/fs/cgroup/perf_event type cgroup (rw,nosuid,nodev,noexec,relatime,perf_event)cgroup on /sys/fs/cgroup/hugetlb type cgroup (rw,nosuid,nodev,noexec,relatime,hugetlb)cgroup on /sys/fs/cgroup/cpuset type cgroup (rw,nosuid,nodev,noexec,relatime,cpuset)cgroup on /sys/fs/cgroup/memory type cgroup (rw,nosuid,nodev,noexec,relatime,memory) æŸ¥çœ‹å­ç³»ç»Ÿ 1234567891011121314$ ll /sys/fs/cgrouptotal 0drwxr-xr-x 5 root root 0 Nov 17 2018 blkiolrwxrwxrwx 1 root root 11 Nov 17 2018 cpu -&gt; cpu,cpuacctlrwxrwxrwx 1 root root 11 Nov 17 2018 cpuacct -&gt; cpu,cpuacctdrwxr-xr-x 8 root root 0 Nov 17 2018 cpu,cpuacctdrwxr-xr-x 3 root root 0 Nov 17 2018 cpusetdrwxr-xr-x 5 root root 0 Nov 17 2018 devicesdrwxr-xr-x 4 root root 0 Nov 17 2018 freezerdrwxr-xr-x 3 root root 0 Nov 17 2018 hugetlbdrwxr-xr-x 8 root root 0 Nov 17 2018 memorydrwxr-xr-x 3 root root 0 Nov 17 2018 net_clsdrwxr-xr-x 3 root root 0 Nov 17 2018 perf_eventdrwxr-xr-x 5 root root 0 Nov 17 2018 systemd æŸ¥çœ‹è¿›ç¨‹ cgroup 1234567891011$ cat /proc/135/cgroup10:memory:/9:cpuset:/8:hugetlb:/7:perf_event:/6:net_cls:/5:freezer:/4:blkio:/3:cpuacct,cpu:/2:devices:/1:name=systemd:/ å†…å­˜é™åˆ¶123$ cat /sys/fs/cgroup/memory/memory.oom_controloom_kill_disable 0under_oom 0 oom_kill_disable == 1: ç¨‹åºè¿›å…¥ä¼‘çœ çŠ¶æ€ oom_kill_disable == 0: æ“ä½œç³»ç»Ÿæ€æ­» é…ç½®é¡¹ åç§° ä½œç”¨ memory.usage_in_bytes å½“å‰å†…å­˜ä¸­çš„ä½¿ç”¨é‡ memory.memsw.usage_in_bytes å½“å‰å†…å­˜å’Œäº¤æ¢ç©ºé—´ä¸­çš„ä½¿ç”¨é‡ memory.limit_in_bytes è®¾ç½®oræŸ¥çœ‹å†…å­˜ä½¿ç”¨é‡ memory.memsw.limit_in_bytes è®¾ç½®oræŸ¥çœ‹ å†…å­˜åŠ äº¤æ¢ç©ºé—´ä½¿ç”¨é‡ memory.failcnt æŸ¥çœ‹å†…å­˜ä½¿ç”¨é‡è¢«é™åˆ¶çš„æ¬¡æ•° memory.memsw.failcnt æŸ¥çœ‹å†…å­˜å’Œäº¤æ¢ç©ºé—´ä½¿ç”¨é‡è¢«é™åˆ¶çš„æ¬¡æ•° memory.max_usage_in_bytes æŸ¥çœ‹å†…å­˜æœ€å¤§ä½¿ç”¨é‡ memory.memsw.max_usage_in_bytes æŸ¥çœ‹æœ€å¤§å†…å­˜å’Œäº¤æ¢ç©ºé—´ä½¿ç”¨é‡ memory.soft_limit_in_bytes è®¾ç½®oræŸ¥çœ‹å†…å­˜çš„soft limit memory.stat ç»Ÿè®¡ä¿¡æ¯ memory.use_hierarchy è®¾ç½®oræŸ¥çœ‹å±‚çº§ç»Ÿè®¡çš„åŠŸèƒ½ memory.force_empty è§¦å‘å¼ºåˆ¶pageå›æ”¶ memory.pressure_level è®¾ç½®å†…å­˜å‹åŠ›é€šçŸ¥ memory.swappiness è®¾ç½®oræŸ¥çœ‹vmscan swappiness å‚æ•° memory.move_charge_at_immigrate è®¾ç½®oræŸ¥çœ‹ controls of moving charges memory.oom_control è®¾ç½®oræŸ¥çœ‹å†…å­˜è¶…é™æ§åˆ¶ä¿¡æ¯(OOM killer) memory.numa_stat æ¯ä¸ªnumaèŠ‚ç‚¹çš„å†…å­˜ä½¿ç”¨æ•°é‡ å†…æ ¸ mem æ§åˆ¶: memory.kmem.limit_in_bytes # è®¾ç½®oræŸ¥çœ‹ å†…æ ¸å†…å­˜é™åˆ¶çš„ç¡¬é™ memory.kmem.usage_in_bytes # è¯»å–å½“å‰å†…æ ¸å†…å­˜çš„åˆ†é… memory.kmem.failcnt # è¯»å–å½“å‰å†…æ ¸å†…å­˜åˆ†é…å—é™çš„æ¬¡æ•° memory.kmem.max_usage_in_bytes # è¯»å–æœ€å¤§å†…æ ¸å†…å­˜ä½¿ç”¨é‡ memory.kmem.tcp.limit_in_bytes # è®¾ç½®tcp ç¼“å­˜å†…å­˜çš„hard limit memory.kmem.tcp.usage_in_bytes # è¯»å–tcp ç¼“å­˜å†…å­˜çš„ä½¿ç”¨é‡ memory.kmem.tcp.failcnt # tcp ç¼“å­˜å†…å­˜åˆ†é…çš„å—é™æ¬¡æ•° memory.kmem.tcp.max_usage_in_bytes # tcp ç¼“å­˜å†…å­˜çš„æœ€å¤§ä½¿ç”¨é‡ CPU é™åˆ¶ cpuset ä»¥æ ¸å¿ƒçš„æ–¹å¼è¿›è¡Œéš”ç¦» cpuquota ä»¥ cpu ä½¿ç”¨æ¯”ç‡é™åˆ¶, ä¿è¯æ¯”ç‡ä¸Šé™ cpusharess ä»¥æƒé‡æ¯”ç‡å¼¹æ€§åˆ†é…, ä¿è¯æœ€ä½å ç”¨æ—¶é—´æ¯”ç‡ 123456789101112131415161718[&#x2F;sys&#x2F;fs&#x2F;cgroup&#x2F;cpu]$ lltotal 0-rw-r--r-- 1 root root 0 Nov 17 2018 cgroup.clone_children--w--w--w- 1 root root 0 Nov 17 2018 cgroup.event_control-rw-r--r-- 1 root root 0 Nov 17 2018 cgroup.procs-r--r--r-- 1 root root 0 Nov 17 2018 cgroup.sane_behavior-r--r--r-- 1 root root 0 Nov 17 2018 cpuacct.stat-rw-r--r-- 1 root root 0 Nov 17 2018 cpuacct.usage-r--r--r-- 1 root root 0 Nov 17 2018 cpuacct.usage_percpu-rw-r--r-- 1 root root 0 Nov 17 2018 cpu.cfs_period_us-rw-r--r-- 1 root root 0 Nov 17 2018 cpu.cfs_quota_us-rw-r--r-- 1 root root 0 Nov 17 2018 cpu.rt_period_us-rw-r--r-- 1 root root 0 Nov 17 2018 cpu.rt_runtime_us-rw-r--r-- 1 root root 0 Nov 17 2018 cpu.shares-r--r--r-- 1 root root 0 Nov 17 2018 cpu.stat-rw-r--r-- 1 root root 0 Nov 17 2018 notify_on_release-rw-r--r-- 1 root root 0 Nov 17 2018 release_agent-rw-r--r-- 1 root root 0 Nov 17 2018 tasks é…ç½®é¡¹ cpu: ç»Ÿé™åˆ¶å¯¹CPUçš„è®¿é—®ï¼Œæ¯ä¸ªå‚æ•°ç‹¬ç«‹å­˜åœ¨äºcgroupsè™šæ‹Ÿæ–‡ä»¶ç³»ç»Ÿçš„ä¼ªæ–‡ä»¶ä¸­ åç§° ä½œç”¨ cpu.shares cgroupå¯¹æ—¶é—´çš„åˆ†é…, é’ˆå¯¹æ‰€æœ‰æ ¸ã€‚æ¯”å¦‚cgroup Aè®¾ç½®çš„æ˜¯1ï¼Œcgroup Bè®¾ç½®çš„æ˜¯2ï¼Œé‚£ä¹ˆBä¸­çš„ä»»åŠ¡è·å–cpuçš„æ—¶é—´ï¼Œæ˜¯Aä¸­ä»»åŠ¡çš„2å€ cpu.cfs_period_us å®Œå…¨å…¬å¹³è°ƒåº¦å™¨çš„è°ƒæ•´æ—¶é—´é…é¢çš„å‘¨æœŸ, å–å€¼èŒƒå›´ 1ms - 1s cpu.cfs_quota_us å®Œå…¨å…¬å¹³è°ƒåº¦å™¨çš„å‘¨æœŸå½“ä¸­å¯ä»¥å ç”¨çš„æ—¶é—´, å–å€¼èŒƒå›´ &gt; 1ms, å¦‚ä¸º -1 å³ä¸ºæ— é™åˆ¶ cpu.stat cpu.stat.nr_periods è¿›å…¥å‘¨æœŸçš„æ¬¡æ•° cpu.stat.nr_throttled è¿è¡Œæ—¶é—´è¢«è°ƒæ•´çš„æ¬¡æ•° cpu.stat.throttled_time ç”¨äºè°ƒæ•´çš„æ—¶é—´ cpuacct: ç”Ÿæˆcgroupä»»åŠ¡æ‰€ä½¿ç”¨çš„CPUèµ„æºæŠ¥å‘Šï¼Œä¸åšèµ„æºé™åˆ¶åŠŸèƒ½ åç§° ä½œç”¨ cpuacct.usage è¯¥cgroupä¸­æ‰€æœ‰ä»»åŠ¡æ€»å…±ä½¿ç”¨çš„CPUæ—¶é—´ï¼ˆnsçº³ç§’ï¼‰ cpuacct.stat è¯¥cgroupä¸­æ‰€æœ‰ä»»åŠ¡æ€»å…±ä½¿ç”¨çš„CPUæ—¶é—´ï¼ŒåŒºåˆ†userå’Œsystemæ—¶é—´ cpuacct.usage_percpu è¯¥cgroupä¸­æ‰€æœ‰ä»»åŠ¡ä½¿ç”¨å„ä¸ªCPUæ ¸æ•°çš„æ—¶é—´ cpuset: é€‚ç”¨äºåˆ†é…ç‹¬ç«‹çš„CPUèŠ‚ç‚¹å’ŒMemèŠ‚ç‚¹ï¼Œæ¯”å¦‚å°†è¿›ç¨‹ç»‘å®šåœ¨æŒ‡å®šçš„CPUæˆ–è€…å†…å­˜èŠ‚ç‚¹ä¸Šè¿è¡Œ åç§° ä½œç”¨ cpuset.cpus å¯ä»¥ä½¿ç”¨çš„cpuèŠ‚ç‚¹ cpuset.mems å¯ä»¥ä½¿ç”¨çš„memèŠ‚ç‚¹ cpuset.memory_migrate å†…å­˜èŠ‚ç‚¹æ”¹å˜æ˜¯å¦è¦è¿ç§» cpuset.cpu_exclusive æ­¤cgroupé‡Œçš„ä»»åŠ¡æ˜¯å¦ç‹¬äº«cpu cpuset.mem_exclusive æ­¤cgroupé‡Œçš„ä»»åŠ¡æ˜¯å¦ç‹¬äº«memèŠ‚ç‚¹ cpuset.mem_hardwall é™åˆ¶å†…æ ¸å†…å­˜åˆ†é…çš„èŠ‚ç‚¹ï¼ˆmemsæ˜¯ç”¨æˆ·æ€çš„åˆ†é…ï¼‰ cpuset.memory_pressure è®¡ç®—æ¢é¡µçš„å‹åŠ› cpuset.memory_spread_page å°†page cacheåˆ†é…åˆ°å„ä¸ªèŠ‚ç‚¹ä¸­ï¼Œè€Œä¸æ˜¯å½“å‰å†…å­˜èŠ‚ç‚¹ cpuset.memory_spread_slab å°†slabå¯¹è±¡(inodeå’Œdentry)åˆ†æ•£åˆ°èŠ‚ç‚¹ä¸­ cpuset.sched_load_balance æ‰“å¼€cpu setä¸­çš„cpuçš„è´Ÿè½½å‡è¡¡ cpuset.sched_relax_domain_level the searching range when migrating tasks cpuset.memory_pressure_enable0d æ˜¯å¦éœ€è¦è®¡ç®— memory_pressure cgroup ä¸ systemd å…³ç³»å…¶å®æ²¡å•¥å…³ç³», ä½†æ˜¯ systemd å…¼å®¹ cgroup, å¯ä»¥åœ¨ cgroup ä¹‹ä¸Šå¯åŠ¨","categories":[{"name":"Linux","slug":"Linux","permalink":"http://taizilongxu.github.io/wiki/categories/Linux/"},{"name":"container","slug":"Linux/container","permalink":"http://taizilongxu.github.io/wiki/categories/Linux/container/"}],"tags":[]},{"title":"Linux boot","slug":"Linux/boot","date":"2020-01-21T09:47:45.066Z","updated":"2020-02-06T07:43:40.835Z","comments":true,"path":"wiki/Linux/boot/","link":"","permalink":"http://taizilongxu.github.io/wiki/wiki/Linux/boot/","excerpt":"","text":"å‚è€ƒèµ„æ–™: http://www.nixhacker.com/explaining-the-magic-of-mbr-and-its/ http://www.ruanyifeng.com/blog/2016/03/systemd-tutorial-commands.html BIOS: Basic Input/Output System ç¡¬ä»¶æ£€æµ‹, è‡ªæ£€å®Œåæ‰¾åˆ° MBR ç§»äº¤æ‰§è¡Œ MBR: Master Boot Record GRUB: Grand Unified Bootloader è´Ÿè´£é€‰æ‹©å¤šä¸ªç³»ç»Ÿ img Kernal: Linux kenel å†…æ ¸å¯åŠ¨ init: å¯åŠ¨å„ç§ç¨‹åº BIOS &amp; UEFI 1980s å¼€å§‹ BIOS ç³»ç»Ÿ åº”å¯¹ BIOS é™åˆ¶, 2006 å¹´ Intel å¼€å‘ EFI, è‹¹æœé‡‡ç”¨ 2007 å¹´ UEFI é—®ä¸–, ç»Ÿä¸€æ ‡å‡† MBRGPT, é…åˆ UEFI é£Ÿç”¨```12345678910111213141516MBR:* ä¼˜ç‚¹: ç®€å•* ç¼ºç‚¹: åªèƒ½ 4 ä¸ªåˆ†åŒº, ä¸èƒ½è¯†åˆ«å¤§äº 2T çš„åˆ†åŒºç¡¬ç›˜ç¬¬ä¸€å— secotr å³ä¸º MBR, ä¸€èˆ¬ 512 bytes&#96;&#96;&#96;shellsudo xxd -g 1 &#x2F;dev&#x2F;sda | head -400000000: eb 63 90 10 8e d0 bc 00 b0 b8 00 00 8e d8 8e c0 .c..............0000010: fb be 00 7c bf 00 06 b9 00 02 f3 a4 ea 21 06 00 ...|.........!..0000020: 00 be be 07 38 04 75 0b 83 c6 10 81 fe fe 07 75 ....8.u........u0000030: f3 eb 16 b4 02 b0 01 bb 00 7c b2 80 8a 74 01 8b .........|...t..0000040: 4c 02 cd 13 ea 00 7c 00 00 eb fe 00 00 00 00 00 L.....|......... MBR ç»“æ„: Bootloader boot.img: ä¸¥æ ¼å æœ‰ 446 bytes, ä¸»è¦ä½œç”¨å°±æ˜¯è°ƒç”¨ BIOS æ¥åŠ è½½ core.img çš„ sector åˆ°å†…å­˜ core.img: å†™å…¥ä½äº MBR å’Œç¬¬ä¸€åˆ†åŒºä¹‹é—´çš„éƒ¨åˆ†, åœ¨ 32256 bytes ä»¥ä¸‹, å¹¶ä¸ç”¨å æ»¡, ä¸»è¦æ˜¯ GRUB çš„å†…æ ¸, åŠ è½½åæŒæ¡æ§åˆ¶æƒ /boot/grub: ä¸€äº› grub é…ç½®æ–‡ä»¶ KernalBootloader è¿›è¡Œ Kernal çš„ img é•œåƒåŠ è½½è§£å‹ç¼©, å¹¶ç»™äºˆæ§åˆ¶æƒ, æœ€åè°ƒç”¨ init è¿›è¡Œå…¶ä»–å¯åŠ¨ System V &amp; Systemdkernal ä¼šè°ƒç”¨ /sbin/init æ¥å¯åŠ¨ uid ä¸º 1 çš„å®ˆæŠ¤è¿›ç¨‹, æœ‰ä¸¤ç§é€‰æ‹© System V: æ³¨æ„è¿™ä¸ªå¯åŠ¨æ˜¯ä¸²è¡Œ, å¾ˆå°‘åœ¨ç”¨, æ„Ÿå…´è¶£å¯ä»¥äº†è§£ä¸‹, å‘½ä»¤ service Upstart: åŸºäºäº‹ä»¶æœºåˆ¶ Systemd(åœ°å€ä¼šè½¯é“¾åˆ°/lib/systemd/systemd): å…¼å®¹ System V System V Systemdé…ç½®åœ°å€: /lib/systemd/system : ç³»ç»Ÿè‡ªå¸¦æˆ–ç¨‹åºè‡ªå¸¦å®‰è£…åœ°å€ /etc/systemd/system: ç”¨æˆ·è‡ªå®šä¹‰, å¯è¦†ç›–ä¸Šé¢æ–‡ä»¶å¤¹å†…å®¹ æ¦‚å¿µè¯´æ˜: target: target ä¹Ÿå±äº Unit ä¸€ç§, æ˜¯ Unit çš„é€»è¾‘é›†åˆ(å’Œ System V çš„è¿è¡Œçº§åˆ«æ¦‚å¿µç›¸åŒ), åŒæ—¶è¿˜æœ‰ä¸ª *.target.wants æ–‡ä»¶æ”¾ç½®å®ƒæ‰€ç®¡ç†çš„ Unit Unit: æœ€å°å•å…ƒ, åˆ†å‡ ç§ç±»å‹çš„èµ„æº, ä¾‹å¦‚ device, mount, target å’Œæˆ‘ä»¬æœ€å¸¸ç”¨çš„ service ä¸Šå›¾å¯åŠ¨ garphitcal.target æ‰§è¡Œçš„ä¾èµ– å¸¸ç”¨å‘½ä»¤: 123456789101112131415161718192021# å¸¸ç”¨$ systemctl status/start/restart/stop/reload &lt;service&gt;# åˆ—å‡ºæ‰€æœ‰æ­£åœ¨è¿è¡Œçš„, ç±»å‹ä¸º service çš„ Unit$ systemctl list-units --type=service# æŸ¥çœ‹ä¾èµ–$ systemctl list-dependencies &lt;service&gt;# æŸ¥çœ‹é…ç½®æ–‡ä»¶$ systemctl cat &lt;service&gt;# æŸ¥çœ‹å¯åŠ¨æ—¶çš„é»˜è®¤ Target$ systemctl get-default# æŸ¥çœ‹ä¸»æœºä¿¡æ¯$ hostnamectl# æŸ¥çœ‹å½“å‰ç™»å½•ç”¨æˆ·$ loginctl list-sessions$ loginctl list-users æ—¥å¿—ç®¡ç†: 12345678910111213141516171819# æŸ¥çœ‹å†…æ ¸æ—¥å¿—ï¼ˆä¸æ˜¾ç¤ºåº”ç”¨æ—¥å¿—ï¼‰$ sudo journalctl -k# æŸ¥çœ‹æŒ‡å®šè¿›ç¨‹çš„æ—¥å¿—$ sudo journalctl _PID=1# æŸ¥çœ‹æŸä¸ªè·¯å¾„çš„è„šæœ¬çš„æ—¥å¿—$ sudo journalctl /usr/bin/bash# æŸ¥çœ‹æŸä¸ª Unit çš„æ—¥å¿—$ sudo journalctl -u nginx.service$ sudo journalctl -u nginx.service --since today# æŸ¥çœ‹æŒ‡å®šæ—¶é—´çš„æ—¥å¿—$ sudo journalctl --since=\"2012-10-30 18:17:16\"$ sudo journalctl --since \"20 min ago\"$ sudo journalctl --since yesterday$ sudo journalctl --since \"2015-01-10\" --until \"2015-01-11 03:00\"$ sudo journalctl --since 09:00 --until \"1 hour ago\"","categories":[{"name":"Linux","slug":"Linux","permalink":"http://taizilongxu.github.io/wiki/categories/Linux/"}],"tags":[]},{"title":"Class æ–‡ä»¶ç»“æ„","slug":"Language/Java/class_bytes","date":"2020-01-20T17:36:05.000Z","updated":"2020-01-22T09:30:11.132Z","comments":true,"path":"wiki/Language/Java/class_bytes/","link":"","permalink":"http://taizilongxu.github.io/wiki/wiki/Language/Java/class_bytes/","excerpt":"","text":"å‚è€ƒ: https://coolshell.cn/articles/9229.html http://luckylau.tech/2017/05/26/%E4%BD%A0%E6%87%82java%E5%90%97-11/ é­”æ•°0XCAFEBABE ç‰ˆæœ¬å· å¸¸é‡æ± ","categories":[{"name":"Language","slug":"Language","permalink":"http://taizilongxu.github.io/wiki/categories/Language/"},{"name":"Java","slug":"Language/Java","permalink":"http://taizilongxu.github.io/wiki/categories/Language/Java/"}],"tags":[]},{"title":"JVM Memory","slug":"Language/Java/jvm/jvm_mem","date":"2020-01-20T16:00:12.000Z","updated":"2020-01-20T16:00:12.000Z","comments":true,"path":"wiki/Language/Java/jvm/jvm_mem/","link":"","permalink":"http://taizilongxu.github.io/wiki/wiki/Language/Java/jvm/jvm_mem/","excerpt":"","text":"JVM ä¸»è¦ä¸‰ä¸ªç»„æˆ: Heap: æ‰€æœ‰å®ä¾‹å¯¹è±¡, å †å†…ç©ºé—´æ— æ³•æ‰©å±•å‡ºç° OOM å¼‚å¸¸ Young Generation(é»˜è®¤æ¯”ä¾‹ 8:1:1) Eden From Survivor To Survivor Old Generation Method Area(Non-Heap, PermGen, æ°¸ä¹…ä»£): æ–¹æ³•åŒºå­˜å‚¨ç±»ä¿¡æ¯, å¸¸é‡, é™æ€å˜é‡ç­‰æ•°æ®, çº¿ç¨‹å…±äº«åŒºåŸŸ, æ–¹æ³•åŒºä¹Ÿä¼šæŠ›å‡º OOM Stack Java Stack: æ¯ä¸ªæ–¹æ³•æ‰§è¡Œçš„æ—¶å€™éƒ½ä¼šåˆ›å»ºä¸€ä¸ª stack frame, ä¿å­˜å±€éƒ¨å˜é‡, æ“ä½œæ ˆ,åŠ¨æ€é“¾æ¥, æ–¹æ³•å‡ºå£ç­‰, å¦‚æœçº¿ç¨‹è¯·æ±‚æ ˆçš„æ·±åº¦å¤§äºè™šæ‹Ÿæœºå…è®¸æ·±åº¦, æŠ›å‡º stackoverflow å¼‚å¸¸, å¦‚æœè™šæ‹Ÿæœºæ ˆå¯ä»¥åŠ¨æ€æ‰©å±•, å½“æ— æ³•ç”³è¯·å†…å­˜æ˜¯ä¼šæŠ›å‡º OOM å¼‚å¸¸ Native Method Stack: å­˜ä¸€äº›åŸç”Ÿæ–¹æ³•, C åº“ å‚æ•°é…ç½® å…¶ä»–å†…å­˜å ç”¨NIONIOä½¿ç”¨java.nio.ByteBuffer.allocateDirect()æ–¹æ³•åˆ†é…å†…å­˜ï¼Œæ¯æ¬¡åˆ†é…å†…å­˜éƒ½ä¼šè°ƒç”¨æ“ä½œç³»ç»Ÿå‡½æ•°os::malloc()ï¼Œæ‰€ä»¥ï¼Œåˆ†é…çš„å†…å­˜æ˜¯æœ¬æœºçš„å†…å­˜è€Œä¸æ˜¯Javaå †ä¸Šçš„å†…å­˜ï¼› å¦å¤–åˆ©ç”¨è¯¥æ–¹æ³•äº§ç”Ÿçš„æ•°æ®å’Œç½‘ç»œã€ç£ç›˜å‘ç”Ÿäº¤äº’çš„æ—¶å€™éƒ½æ˜¯åœ¨å†…æ ¸ç©ºé—´å‘ç”Ÿçš„ï¼Œä¸éœ€è¦å¤åˆ¶åˆ°ç”¨æˆ·ç©ºé—´Javaå†…å­˜ä¸­ï¼Œè¿™ç§æŠ€æœ¯é¿å…äº†Javaå †å’Œæœ¬æœºå †ä¹‹é—´çš„æ•°æ®å¤åˆ¶ï¼›ä½†æ˜¯åˆ©ç”¨è¯¥æ–¹æ³•ç”Ÿæˆçš„æ•°æ®ä¼šä½œä¸ºJavaå †GCçš„ä¸€éƒ¨åˆ†æ¥è‡ªåŠ¨æ¸…ç†æœ¬æœºç¼“å†²åŒºã€‚ å¼‚å¸¸","categories":[{"name":"Language","slug":"Language","permalink":"http://taizilongxu.github.io/wiki/categories/Language/"},{"name":"Java","slug":"Language/Java","permalink":"http://taizilongxu.github.io/wiki/categories/Language/Java/"},{"name":"jvm","slug":"Language/Java/jvm","permalink":"http://taizilongxu.github.io/wiki/categories/Language/Java/jvm/"}],"tags":[]},{"title":"æ¬¢è¿æ¥åˆ°æˆ‘çš„ Wiki","slug":"index","date":"2020-01-20T15:45:04.000Z","updated":"2020-02-05T06:27:23.231Z","comments":true,"path":"wiki/index/","link":"","permalink":"http://taizilongxu.github.io/wiki/wiki/index/","excerpt":"","text":"","categories":[],"tags":[]},{"title":"","slug":"BigData/Kafka/cheat_sheet","date":"2020-01-15T12:06:59.175Z","updated":"2020-01-15T12:06:59.175Z","comments":true,"path":"wiki/BigData/Kafka/cheat_sheet/","link":"","permalink":"http://taizilongxu.github.io/wiki/wiki/BigData/Kafka/cheat_sheet/","excerpt":"","text":"","categories":[{"name":"BigData","slug":"BigData","permalink":"http://taizilongxu.github.io/wiki/categories/BigData/"},{"name":"Kafka","slug":"BigData/Kafka","permalink":"http://taizilongxu.github.io/wiki/categories/BigData/Kafka/"}],"tags":[]},{"title":"crontab","slug":"Linux/crontab","date":"2020-01-15T12:06:59.174Z","updated":"2020-01-15T12:12:26.138Z","comments":true,"path":"wiki/Linux/crontab/","link":"","permalink":"http://taizilongxu.github.io/wiki/wiki/Linux/crontab/","excerpt":"","text":"123456789101112131415[xuxiao.xu@l-rtools1.ops.cna ~]$ cat /etc/crontabSHELL=/bin/bashPATH=/sbin:/bin:/usr/sbin:/usr/binMAILTO=root# For details see man 4 crontabs# Example of job definition:# .---------------- minute (0 - 59)# | .------------- hour (0 - 23)# | | .---------- day of month (1 - 31)# | | | .------- month (1 - 12) OR jan,feb,mar,apr ...# | | | | .---- day of week (0 - 6) (Sunday=0 or 7) OR sun,mon,tue,wed,thu,fri,sat# | | | | |# * * * * * user-name command to be executed https://crontab.guru/","categories":[{"name":"Linux","slug":"Linux","permalink":"http://taizilongxu.github.io/wiki/categories/Linux/"}],"tags":[]},{"title":"shell","slug":"Linux/shell","date":"2020-01-15T12:06:59.173Z","updated":"2020-01-21T12:13:35.257Z","comments":true,"path":"wiki/Linux/shell/","link":"","permalink":"http://taizilongxu.github.io/wiki/wiki/Linux/shell/","excerpt":"","text":"Shell åŸç†ç³»ç»Ÿæä¾› shell ç»™ç”¨æˆ·è°ƒç”¨å†…æ ¸ æ‰§è¡Œè¿‡ç¨‹: è¯»å–ç”¨æˆ·é”®ç›˜æŒ‡ä»¤ åˆ†æå‘½ä»¤ï¼Œä»¥å‘½ä»¤åä½œä¸ºæ–‡ä»¶åï¼Œå¹¶å°†å…¶å®ƒå‚æ•°æ”¹é€ ä¸ºç³»ç»Ÿè°ƒç”¨ execve() å†…éƒ¨å¤„ç†æ‰€è¦æ±‚çš„å½¢å¼ ç»ˆç«¯è¿›ç¨‹è°ƒç”¨ fork() å»ºç«‹ä¸€ä¸ªå­è¿›ç¨‹ ç»ˆç«¯è¿›ç¨‹æœ¬èº«ç”¨ç³»ç»Ÿè°ƒç”¨ wait4() æ¥ç­‰å¾…å­è¿›ç¨‹å®Œæˆ(å¦‚æœæ˜¯åå°å‘½ä»¤ï¼Œåˆ™ä¸ç­‰å¾…). å½“å­è¿›ç¨‹è¿è¡Œæ—¶è°ƒç”¨ execve()ï¼Œå­è¿›ç¨‹æ ¹æ®æ–‡ä»¶å(å³å‘½ä»¤å)åˆ°ç›®å½•ä¸­æŸ¥æ‰¾æœ‰å…³æ–‡ä»¶(è¿™æ˜¯å‘½ä»¤è§£é‡Šç¨‹åºæ„æˆçš„æ–‡ä»¶), å°†å®ƒè°ƒå…¥å†…å­˜, æ‰§è¡Œè¿™ä¸ªç¨‹åº(è§£é‡Šè¿™æ¡å‘½ä»¤) å¦‚æœå‘½ä»¤æœ«å°¾æœ‰&amp;å·(åå°å‘½ä»¤ç¬¦å·), åˆ™ç»ˆç«¯è¿›ç¨‹ä¸ç”¨ç³»ç»Ÿè°ƒç”¨ wait4() ç­‰å¾…, ç«‹å³å‘æç¤ºç¬¦, è®©ç”¨æˆ·è¾“å…¥ä¸‹ä¸€ä¸ªå‘½ä»¤, è½¬ 1 å¦‚æœå‘½ä»¤æœ«å°¾æ²¡æœ‰ &amp; å·, åˆ™ç»ˆç«¯è¿›ç¨‹è¦ä¸€ç›´ç­‰å¾…, å½“å­è¿›ç¨‹(å³è¿è¡Œå‘½ä»¤çš„è¿›ç¨‹)å®Œæˆå¤„ç†åç»ˆæ­¢, å‘çˆ¶è¿›ç¨‹(ç»ˆç«¯è¿›ç¨‹)æŠ¥å‘Š, æ­¤æ—¶ç»ˆç«¯è¿›ç¨‹é†’æ¥, åœ¨åšå¿…è¦çš„åˆ¤åˆ«ç­‰å·¥ä½œå, ç»ˆç«¯è¿›ç¨‹å‘æç¤ºç¬¦, è®©ç”¨æˆ·è¾“å…¥æ–°çš„å‘½ä»¤, é‡å¤ä¸Šè¿°å¤„ç†è¿‡ç¨‹. å†…ç½® Shell å‘½ä»¤ Shell navigation åŒ…ç®¡ç†","categories":[{"name":"Linux","slug":"Linux","permalink":"http://taizilongxu.github.io/wiki/categories/Linux/"}],"tags":[]},{"title":"Maven æ±‡æ€»","slug":"Language/Java/maven","date":"2020-01-15T12:06:59.168Z","updated":"2020-01-15T12:06:59.169Z","comments":true,"path":"wiki/Language/Java/maven/","link":"","permalink":"http://taizilongxu.github.io/wiki/wiki/Language/Java/maven/","excerpt":"","text":"Maven æ˜¯å¸¸ç”¨çš„ Java æ„å»ºå·¥å…·, ä»¥ POM æ–‡ä»¶ä¸ºä¸­å¿ƒ, Maven å·¥ä½œæ—¶çš„å‡ ä¸ªä¸»è¦æ­¥éª¤ è¯»å– pom.xml ä¸‹è½½ä¾èµ–åˆ°æœ¬åœ° æ‰§è¡Œæ„å»ºè¿‡ç¨‹ æ‰§è¡Œæ’ä»¶ POMPOM - Project Object Model å…·ä½“å¯å‚è§ å®˜ç½‘ POM ä»‹ç» ä¾èµ–åŒ…ç®¡ç† Maven ä¼šé€’å½’ä¸‹è½½ POM æ–‡ä»¶ä¸­çš„ä¾èµ–, å¯ä»¥ç”¨ &lt;exclusions&gt; è¿›è¡Œæ’é™¤ Maven ä¸‹è½½çš„ä¾èµ–æ¥è‡ª 3 ä¸ªåœ°æ–¹: æœ¬åœ° %USER_HOME%/.m2 ç›®å½• ä¸­å¤®ä»“åº“ è¿œç¨‹åº“ ç†è§£ Lifecycle, Phase, Goal Lifecycleä¸Šé¢å›¾é‡Œå¯ä»¥çœ‹åˆ° Maven è‡ªå¸¦ 3 ä¸ª Lifecycle: default: ä¸»è¦ç”Ÿå‘½å‘¨æœŸ, ç¼–è¯‘ä»£ç å¹¶å¤„ç†æ‰“åŒ…é¡¹ç›® clean: æ¸…ç†æ„å»ºè¾“å‡º, åŒ…æ‹¬ä¸­é—´æ–‡ä»¶ site: æ–‡æ¡£ç”Ÿæˆ Phasedefault çš„ Lifecycle åŒ…å«äº†è®¸å¤š phase, å¸¸è§å¦‚ä¸‹, å®Œæ•´å¯ä»¥æŸ¥çœ‹ Lifecycle Referrence validate: éªŒè¯é¡¹ç›® compile: ç¼–è¯‘ä»£ç  test: æµ‹è¯• package: å°†ç¼–è¯‘åä»£ç æ‰“åŒ… install: å®‰è£…åˆ°æœ¬åœ°å­˜å‚¨ deploy: å‘å¸ƒåˆ°è¿œç¨‹ä»“åº“ å½“æˆ‘ä»¬æ‰§è¡Œ mvn install æ—¶, å®é™…ä¼šæŒ‰ç…§é¡ºåºæ‰§è¡Œå‰ç½®çš„å„ä¸ª phase, ä¾‹å¦‚ validate -&gt; compile -&gt; test -&gt; package -&gt; install æœ€ç»ˆæ‰§è¡Œåˆ° install GoalMaven ä¸ºæ’ä»¶æä¾›äº† Goal æ¥æ³¨å†Œåˆ°å„ä¸ª phase è¿›è¡Œæ‰§è¡Œ Maven æ˜¯å¦‚ä½•ç»„åˆè¿™äº›è¿‡ç¨‹çš„åœ¨ POM ä¸­æœ‰ä¸€ä¸ª &lt;packaging&gt; é€‰é¡¹, é»˜è®¤ä¼šæ˜¯ jar, è¿™ä¸ª packaging ä¼šç»‘å®šä¸€äº› goal åˆ°å„ä¸ª phase, é»˜è®¤å¯æŸ¥çœ‹ Plugin Bindings, ä¸¾ä¸ªä¾‹å­ jar çš„é»˜è®¤ç»‘å®š: Phase plugin:goal process-resources resources:resources compile compiler:compile process-test-resources resources:testResources test-compile compiler:testCompile test surefire:test package jar:jar install install:install deploy deploy:deploy Maven åœ¨æŒ‰ç…§ lifecycle è¿›è¡Œè¿è¡Œçš„æ—¶å€™ä¼šæ‰§è¡Œå„ä¸ª phase ä¸­çš„ goal Scopeå¦‚æœæˆ‘ä»¬æƒ³è¦åœ¨ä¸åŒé˜¶æ®µå¯¹æ‰“åŒ…è¿›è¡Œæ§åˆ¶, å¯ä»¥è®¾ç½® scope å‚æ•°, å®˜ç½‘ å¯¹åº”ä¸é€šçš„ç¼–è¯‘é˜¶æ®µæˆ‘ä»¬å¯ä»¥å‚è€ƒä¸‹å›¾ compile: é»˜è®¤è®¾ç½®, å‚ä¸æ•´ä¸ªæ‰“åŒ…çš„å‘¨æœŸ provided: æ¯”å¦‚è¯´æˆ‘ä»¬æäº¤ Flink ä»»åŠ¡åˆ°é›†ç¾¤é‡Œ, å¾ˆå¤šåŒ…é›†ç¾¤æ˜¯å·²ç»é™„å¸¦çš„, æˆ‘ä»¬å°±å¯ä»¥æŠŠè¯¥åŒ…è®¾ç½®æˆ provided, å‡å°‘æ‰“åŒ…ä½“ç§¯ runtime: è¿™ä¸ªä¸€èˆ¬ç”¨ jdbc å¯ä»¥é€‰å¡«, åªæœ‰åœ¨è¿è¡Œæ—¶æ‰éœ€è¦ test: æµ‹è¯•é˜¶æ®µç”¨åˆ°çš„åŒ… system: ä»æœ¬åœ°å¼•ç”¨åŒ…, ä¸ä¼šå»ä»“åº“ä¸‹è½½, é…åˆ systemPath ä½¿ç”¨ å¯¹äºä¾èµ–çš„ä¼ é€’, å¯ä»¥ä¸¾ä¾‹: A - comiple -&gt; B - provided -&gt; C æˆ–è€…A - comiple -&gt; B - test -&gt; C æ—¶ A å°†ä¸¢å¼ƒ C, ä¸ä¼šå¼•ç”¨ ä¸‹é¢æ˜¯å…·ä½“çš„å¼•ç”¨ä¼ é€’: èµ„æ–™ Maven å®˜ç½‘ Maven æ•™ç¨‹","categories":[{"name":"Language","slug":"Language","permalink":"http://taizilongxu.github.io/wiki/categories/Language/"},{"name":"Java","slug":"Language/Java","permalink":"http://taizilongxu.github.io/wiki/categories/Language/Java/"}],"tags":[]},{"title":"JVM ç®€ä»‹ (ç¿»è¯‘)","slug":"Language/Java/jvm/jvm","date":"2020-01-15T12:06:59.168Z","updated":"2020-01-15T12:06:59.168Z","comments":true,"path":"wiki/Language/Java/jvm/jvm/","link":"","permalink":"http://taizilongxu.github.io/wiki/wiki/Language/Java/jvm/jvm/","excerpt":"","text":"https://www.guru99.com/java-virtual-machine-jvm.html ä»€ä¹ˆæ˜¯ JVM ?Java Virtual Machine (JVM) æ˜¯æä¾› Java ä»£ç å’Œåº”ç”¨è¿è¡Œç¯å¢ƒçš„å¼•æ“. å®ƒå¯ä»¥å°† Java å­—èŠ‚ç è½¬æ¢æˆæœºå™¨ç . JVM æ˜¯ Java Run Environment (JRE) çš„ä¸€éƒ¨åˆ†. åœ¨å…¶ä»–è¯­è¨€é‡Œ, ç¼–è¯‘å™¨ä¸ºç‰¹å®šçš„ç³»ç»Ÿäº§ç”Ÿæœºå™¨ç , ç„¶è€Œ, Java ç¼–è¯‘å™¨äº§ç”Ÿçš„ä»£ç ç›´æ¥æä¾›ç»™è™šæ‹Ÿæœº, å°±æ˜¯æˆ‘ä»¬ç†ŸçŸ¥çš„ JVM JVM å¦‚ä½•å·¥ä½œé¦–å…ˆ, Java ä»£ç ç¼–è¯‘æˆå­—èŠ‚ç . è¿™ä¸ªå­—èŠ‚ç å¯ä»¥åœ¨ä¸åŒçš„æœºå™¨ä¸Šè§£æ. å­—èŠ‚ç æ˜¯ä»‹äºä¸»æœºç³»ç»Ÿå’Œ Java æºç ä¹‹é—´çš„ä¸­é—´è¯­è¨€. JVM è´Ÿè´£åˆ†é…å†…å­˜ç©ºé—´ JVM æ¶æ„è®©æˆ‘ä»¬æ¥äº†è§£ä¸‹ JVM çš„æ¶æ„. å®ƒåŒ…å«äº† classloader, memory area, execution egine ç­‰. ClassLoader: ç±»åŠ è½½å™¨æ˜¯ä¸€ä¸ªåŠ è½½ç±»æ–‡ä»¶çš„å­ç³»ç»Ÿ, åŒ…æ‹¬ 3 ä¸ªä¸»è¦åŠŸèƒ½, Loading, Linking å’Œ Initialization Method Area: JVM æ–¹æ³•åŒºä¿å­˜åƒ metadata, æŒä¹…çš„è¿è¡Œæ± å’Œä»£ç æ–¹æ³• Heap: æ‰€æœ‰çš„ Object, ä»–ä»¬ç›¸å…³çš„ instance å˜é‡, æ•°ç»„éƒ½å­˜åœ¨ heap é‡Œ, è¿™äº›å†…å­˜å¯ä»¥åœ¨ä¸åŒçº¿ç¨‹é—´åˆ†äº« JVM Language Stacks: å­˜å‚¨ local å˜é‡, å’Œä¸€éƒ¨åˆ†ç»“æœ. æ¯ä¸ªçº¿ç¨‹éƒ½æœ‰è‡ªå·±çš„ JVM stack, åˆ›å»ºçº¿ç¨‹çš„åŒæ—¶å®ƒä»¬ä¹Ÿä¼šè¢«åˆ›å»º. å½“ä¸€ä¸ªæ–¹æ³•è¢« invoke æ—¶, æ–°çš„ frame å°±ä¼šè¢«åˆ›å»º, å½“æ–¹æ³• invocation process å®Œæˆæ—¶ä¹Ÿå°±ä¼šè¢«åˆ é™¤. PC Registers: ä¿å­˜æ­£åœ¨æ‰§è¡Œçš„ä»£ç åœ°å€. åœ¨ Java ä¸­, æ¯ä¸ªçº¿ç¨‹æœ‰è‡ªå·±çš„ PC register. Native Method Stacks: ä¿å­˜åŸç”Ÿåº“çš„åœ°æ–¹. é€šå¸¸éƒ½æ˜¯å…¶ä»–è¯­è¨€çš„ä»£ç . Execution Engine: It is a type of software used to test hardware, software, or complete systems. The test execution engine never carries any information about the tested product. Native Method interface: ç¼–ç¨‹æ¡†æ¶. å…è®¸ Java ä»£ç åœ¨ JVM é‡Œè°ƒç”¨åº“å’ŒåŸç”Ÿåº”ç”¨. Native Method Libraries: Execution Engine éœ€è¦çš„ä¸€äº›åŸç”Ÿåº“(C, C++) ä»£ç ç¼–è¯‘å’Œæ‰§è¡Œè¿‡ç¨‹ä¸ºäº†ä¹¦å†™å’Œæ‰§è¡Œä¸€ä¸ªè½¯ä»¶, ä½ éœ€è¦: Editor: è¾“å…¥ä½ çš„ä»£ç  Compile: è®²ä½ çš„é«˜çº§è¯­è¨€è½¬æ¢æˆæœºå™¨è¯­è¨€ Linker: å°†ä¸åŒçš„ç¨‹åºæ–‡ä»¶åˆå¹¶åœ¨ä½ çš„ main ç¨‹åºé‡Œ. Loader: è®²æ–‡ä»¶ä»ç¡¬ç›˜é‡ŒåŠ è½½åˆ° RAM é‡Œ. Loading çš„è¿‡ç¨‹æ˜¯åœ¨æ‰§è¡Œä»£ç çš„æ—¶å€™è‡ªåŠ¨æ‰§è¡Œçš„ Execution: é€šè¿‡æ“ä½œç³»ç»Ÿå’Œè¿›ç¨‹æ¥æ‰§è¡Œä½ çš„ä»£ç  C ä»£ç ç¼–è¯‘å’Œæ‰§è¡Œè¿‡ç¨‹ä¸ºäº†ç†è§£ Java ç¼–è¯‘è¿‡ç¨‹, å…ˆè®©æˆ‘ä»¬ç®€å•çœ‹ä¸€ä¸‹ C è¯­è¨€æ˜¯å¦‚ä½•ç¼–è¯‘å’Œé“¾æ¥çš„ å‡è®¾ä½ çš„ main å‡½æ•°é‡Œè°ƒç”¨äº† f1 å’Œ f2 ä¸¤ä¸ªå‡½æ•°. main å‡½æ•°ä¿å­˜åœ¨ a1.c æ–‡ä»¶é‡Œ f1 å‡½æ•°ä¿å­˜åœ¨ a2.c æ–‡ä»¶é‡Œ f2 å‡½æ•°ä¿å­˜åœ¨ a3.c æ–‡ä»¶é‡Œ æ‰€æœ‰æ–‡ä»¶, a1.c, a2.c å’Œ a3.c é€šè¿‡ compiler è¾“å‡ºä¸ºæœºå™¨ç  ä¸‹ä¸€æ­¥å°±æ˜¯é€šè¿‡ linker å°†æ‰€æœ‰è¿™äº› object æ–‡ä»¶æ‰“åŒ…æˆä¸€ä¸ª exe æ–‡ä»¶ åœ¨ç¨‹åºè¿è¡ŒæœŸé—´, ä¸€ä¸ª loader ç¨‹åºå°†ä¼šæŠŠ a.exe load è¿› Ram é‡Œæ¥æ‰§è¡Œ Java ä»£ç åœ¨ JVM é‡Œç¼–è¯‘å’Œæ‰§è¡Œè®©æˆ‘ä»¬çœ‹çœ‹ Java ç¨‹åº. åœ¨ä½ çš„ main å‡½æ•°é‡Œæœ‰ f1 , f2 ä¸¤ä¸ªå‡½æ•° main æ–¹æ³•å­˜åœ¨ a1.java æ–‡ä»¶ f1 å­˜åœ¨ a2.java æ–‡ä»¶ f2 å­˜åœ¨ a3.java æ–‡ä»¶ compiller å°†ä¼šäº§å‡º 3 ä¸ªä»¥ .class å‘½åçš„å­—èŠ‚ç æ–‡ä»¶. ä¸åƒ C, æ²¡æœ‰ linking çš„è¿‡ç¨‹. JVM å­˜åœ¨äº RAM ä¸­. åœ¨æ‰§è¡ŒæœŸé—´, ä½¿ç”¨ class loader æŠŠ class æ–‡ä»¶è£…è½½è¿› RAM, ä¸‹ä¸€æ­¥, execution engine å°†ä¼šæŠŠå­—èŠ‚ç è½¬æ¢ä¸ºæœºå™¨ç ,è¿™æ˜¯åœ¨ compile æ—¶å€™è¿›è¡Œçš„. è¿™å°±æ˜¯ä¸ºä»€ä¹ˆç›¸å¯¹æ¥è¯´ Java è¿è¡Œçš„æ¯”è¾ƒæ…¢. NOTE: JIT æˆ–è€…è¯´ Just-in-time compiler æ˜¯ JVM çš„ä¸€éƒ¨åˆ†. It interprets part of the Byte Code that has similar functionality at the same time. ä¸ºä»€ä¹ˆ Java æ—¢æ˜¯è§£æåˆæ˜¯ç¼–è¯‘è¯­è¨€?ç¨‹åºè¯­è¨€åˆ†ç±» é«˜çº§è¯­è¨€: C++, Java ä¸­ç­‰è¯­è¨€: C ä½çº§è¯­è¨€: Assembly æœ€ä½çº§è¯­è¨€: æœºå™¨è¯­è¨€ compiler å¯ä»¥å°†ä¸€ä¸ªç¨‹åºä»ä¸€çº§è¯­è¨€è½¬åŒ–ä¸ºå¦ä¸€çº§è¯­è¨€, ä¾‹å¦‚å°† C++ è½¬ä¸ºæœºå™¨è¯­è¨€ java compiler å°†é«˜çº§çš„ java ä»£ç è½¬æ¢ä¸ºå­—èŠ‚ç (ä¹Ÿæ˜¯ä¸€ç§æœºå™¨ç ) interpreter å¯ä»¥å°†åŒä¸€çº§åˆ«çš„è¯­è¨€è½¬åŒ–ä¸ºç›¸åŒçº§åˆ«çš„è¯­è¨€.ä¾‹å¦‚ Java ç¨‹åºè½¬æ¢ä¸º C++ åœ¨ Java ä¸­ JIT å°†å­—èŠ‚ç è½¬æ¢ä¸ºæœºå™¨ç æ˜¯ç›¸åŒè¯­è¨€çº§åˆ«çš„è½¬æ¢ æ‰€ä»¥, Java æ—¢æ˜¯è§£æåˆæ˜¯ç¼–è¯‘è¯­è¨€ ä¸ºä»€ä¹ˆ Java æ…¢?ä¸»è¦ä¸¤ä¸ªåŸå› : åŠ¨æ€é“¾æ¥: ä¸åƒ C, Java åœ¨è¿è¡Œæ—¶é“¾æ¥ è¿è¡Œæ—¶è§£æ: å­—èŠ‚ç æ˜¯åœ¨è¿è¡Œæ—¶è½¬æ¢ä¸ºæœºå™¨ç . æ‰€ä»¥é€Ÿåº¦æœ‰æ‰€å‡æ…¢","categories":[{"name":"Language","slug":"Language","permalink":"http://taizilongxu.github.io/wiki/categories/Language/"},{"name":"Java","slug":"Language/Java","permalink":"http://taizilongxu.github.io/wiki/categories/Language/Java/"},{"name":"jvm","slug":"Language/Java/jvm","permalink":"http://taizilongxu.github.io/wiki/categories/Language/Java/jvm/"}],"tags":[]},{"title":"RAID","slug":"Hardware/Disk/raid","date":"2020-01-15T12:06:59.165Z","updated":"2020-01-15T12:06:59.165Z","comments":true,"path":"wiki/Hardware/Disk/raid/","link":"","permalink":"http://taizilongxu.github.io/wiki/wiki/Hardware/Disk/raid/","excerpt":"","text":"RAIDæ˜¯è‹±æ–‡Redundant Array of Independent Disksçš„ç¼©å†™, å³ç£ç›˜å†—ä½™é˜µåˆ—. RAID 0åˆ†æ•£æ‰“åœ¨ä¸åŒç£ç›˜ä¸Š, å†™å…¥é€Ÿåº¦ * n RAID 1é•œåƒå¯¹è€ƒï¼Œ åŒå†™ RAID 5æ ¡éªŒå—åˆ†å¸ƒåœ¨ä¸åŒç£ç›˜ä¸Š, æ˜“äºæ‰©å±• Raid 6é‡‡ç”¨ä¸¤ç§ç‹¬ç«‹çš„æ ¡éªŒç®—æ³• RAID ç»„åˆç»„åˆæ–¹å¼, é€Ÿåº¦æ—¢å¿«, åˆæœ‰å¤‡ä»½","categories":[{"name":"Hardware","slug":"Hardware","permalink":"http://taizilongxu.github.io/wiki/categories/Hardware/"},{"name":"Disk","slug":"Hardware/Disk","permalink":"http://taizilongxu.github.io/wiki/categories/Hardware/Disk/"}],"tags":[]},{"title":"ç¡¬ç›˜æ¥å£","slug":"Hardware/Disk/interface","date":"2020-01-15T12:06:59.165Z","updated":"2020-01-15T12:06:59.165Z","comments":true,"path":"wiki/Hardware/Disk/interface/","link":"","permalink":"http://taizilongxu.github.io/wiki/wiki/Hardware/Disk/interface/","excerpt":"","text":"åç§° æ€»çº¿ ç‰©ç†æ¥å£ åè®® å¹´ä»½ å¸¦å®½ ç†è®ºé€Ÿåº¦ ç¼–ç  SATA 1.0 SATA SATA AHCI 2003 1.5 Gb/s 150 MB/s 8 b / 10 b SATA 2.0 SATA SATA AHCI 2004 3 Gb/s 300 MB/s 8 b / 10 b SATA 3.0 SATA SATA AHCI 2009 6 Gb/s 600 MB/s 8 b / 10 b SATA Express(SATA 3.2) SATA SATA 2014 16 Gb/s 1969 MB/s 128 b / 130 b M.2 SATA SATA M.2 AHCI 2013 6 Gb/s 600 MB/s M.2 NVMe NVMe M.2 PCIe 2013 32 Gb/s 3200 MB/s ä¸Šé¢è¿™ä¸ªå›¾æœ‰ç‚¹é—®é¢˜, Technology é‚£ä¸€è¡Œçš„ SATA éƒ½æ”¹ä¸º AHCI","categories":[{"name":"Hardware","slug":"Hardware","permalink":"http://taizilongxu.github.io/wiki/categories/Hardware/"},{"name":"Disk","slug":"Hardware/Disk","permalink":"http://taizilongxu.github.io/wiki/categories/Hardware/Disk/"}],"tags":[]},{"title":"Wi-Fi åè®®","slug":"Hardware/wifi","date":"2020-01-15T12:06:59.164Z","updated":"2020-01-15T12:06:59.164Z","comments":true,"path":"wiki/Hardware/wifi/","link":"","permalink":"http://taizilongxu.github.io/wiki/wiki/Hardware/wifi/","excerpt":"","text":"åç§° ä»£å· å¹´ä»£ é¢‘æ®µ å¸¦å®½ 802.11b Wi-Fi 1 1999 2.4 GHz 11 Mbps 802.11a Wi-Fi 2 1999 5 GHz 54 Mbps 802.11g Wi-Fi 3 2003 2.4 GHz 54 Mbps 802.11n Wi-Fi 4 2009 2.4 GHz / 5 GHz 450 Mbps 802.11ac Wi-Fi 5 2014 2.4 GHz / 5 GHz 866.7 Mbps 802.11ax Wi-Fi 6 2019 2.4 GHz / 5 GHz 1201 Mbps","categories":[{"name":"Hardware","slug":"Hardware","permalink":"http://taizilongxu.github.io/wiki/categories/Hardware/"}],"tags":[]},{"title":"Hello World","slug":"Blog/hello-world","date":"2020-01-15T12:06:59.162Z","updated":"2020-01-20T16:16:20.000Z","comments":true,"path":"wiki/Blog/hello-world/","link":"","permalink":"http://taizilongxu.github.io/wiki/wiki/Blog/hello-world/","excerpt":"","text":"Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub. Quick StartCreate a new post1$ hexo new \"My New Post\" More info: Writing Run server1$ hexo server More info: Server Generate static files1$ hexo generate More info: Generating Deploy to remote sites1$ hexo deploy More info: Deployment","categories":[{"name":"Blog","slug":"Blog","permalink":"http://taizilongxu.github.io/wiki/categories/Blog/"}],"tags":[]},{"title":"Flink å¦‚ä½•å·¥ä½œçš„?","slug":"BigData/flink","date":"2019-12-17T12:19:05.000Z","updated":"2020-01-15T12:06:59.175Z","comments":true,"path":"wiki/BigData/flink/","link":"","permalink":"http://taizilongxu.github.io/wiki/wiki/BigData/flink/","excerpt":"","text":"Flink æ˜¯å¦‚ä½•å·¥ä½œçš„? æœ¬æ–‡ä¸»è¦åˆ†ä¸ºä¸¤ä¸ªéƒ¨åˆ†, åˆ†åˆ«ä»‹ç» Flink é›†ç¾¤çš„å¯åŠ¨å’Œ Flink ä»»åŠ¡å¦‚ä½•è¿è¡Œåœ¨é›†ç¾¤ä¸­(Stream æ–¹å¼), ç”±äºç¯‡å¹…æœ‰é™, æœ¬æ–‡å°½é‡ä¸æ¢è®¨å…·ä½“çš„å®ç°ç»†èŠ‚,ä½†æ˜¯æ¯”è¾ƒé‡è¦çš„éƒ¨åˆ†ç»™äºˆä¸€å®šçš„è¯´æ˜, æ›´å¤šçš„æ˜¯è®©è¯»è€…äº†è§£ Flink å†…éƒ¨çš„å·¥ä½œåŸç†. Flink åœ¨éƒ¨ç½²ä¸Šä¸»è¦åˆ†ä¸ºä¸¤éƒ¨åˆ† JobManager å’Œ TaskManager, JobManager ä¸»è¦è´Ÿè´£ä»»åŠ¡çš„åˆ†å‘, slot èµ„æºç®¡ç†ç­‰, TaskManager åˆ™ä¸»è¦è´Ÿè´£ä»»åŠ¡çš„è¿è¡Œ. ä¸‹é¢è¿™å¼ å®˜ç½‘çš„æ¶æ„å›¾è™½ç„¶å¹´ä»£æœ‰ç‚¹ä¹…è¿œ, ä½†è‡³ä»Šå¤§éƒ¨åˆ†åŠŸèƒ½è¿˜æ˜¯å¦‚å›¾æ‰€è¿°. ä»ä¸Šé¢å›¾ä¸­éœ€è¦äº†è§£çš„ä¿¡æ¯: Flink ä»£ç åœ¨å®¢æˆ·ç«¯é‡Œè¿›è¡Œäº†â€ç¼–è¯‘â€, ç„¶åæäº¤ç»™ JobManager, è¿™é‡Œæ¯”è¾ƒé‡è¦, å› ä¸ºå¾ˆå¤š Optimizer çš„ä¸œè¥¿éƒ½å¯ä»¥åœ¨è¿™é‡Œåš JobManager æ‹¿åˆ°â€ç¼–è¯‘â€åçš„ job å†åˆ†å‘åˆ°å„ä¸ª TaskManager çš„ Slot é‡Œ Flink æœ‰ä¸¤ç§é€šä¿¡æ–¹å¼, è¿œç¨‹è°ƒç”¨ä½¿ç”¨çš„æ˜¯ Actor, TaskManager æ•°æ®ä¼ è¾“ä½¿ç”¨çš„æ˜¯ Netty JobManager é›†æˆäº† Scheduler å’Œ Checkpoint Coordinator ç­‰ä¸»è¦åŠŸèƒ½ 1 Flink é›†ç¾¤çš„å¯åŠ¨Flink é›†ç¾¤çš„å¯åŠ¨æ–¹å¼ä¸»è¦åˆ†ä¸ºä»¥ä¸‹ 3 ç§: Standalone æ–¹å¼: æœ€åŸºç¡€çš„æ–¹å¼, å…·æœ‰å®Œæ•´çš„åŠŸèƒ½, å¯åœ¨å®ä½“æœºä¸Šè¿›è¡Œéƒ¨ç½² Cluster session æ–¹å¼: éƒ¨ç½²åœ¨åƒ Yarn , K8s ç­‰èµ„æºè°ƒåº¦æ¡†æ¶å†…, ç›´æ¥å»ºç«‹èµ·é›†ç¾¤, ç„¶åé€šè¿‡ä¸ JobManager äº¤äº’æ¥æäº¤ä½œä¸š, ä½†æ˜¯åœ¨å®é™…ç”Ÿäº§è¿‡ç¨‹ä¸­å‘ç°æœ‰ä¸¥é‡çš„ Bug è¿˜æ²¡æœ‰è§£å†³, å¯å‚çœ‹ FLINK-11205 , ä¸»è¦æ˜¯ Metaspace ç©ºé—´æ— æ³•é‡Šæ”¾å¯¼è‡´ TaskManager è¢« kill, è€Œä¸€ä¸ªé›†ç¾¤é‡Œå­˜åœ¨å¤šä¸ª TaskManager é—®é¢˜æ›´åŠ ä¸¥é‡, ä¼šå¯¼è‡´æ•´ä¸ªé›†ç¾¤ Taskmanager ä¸æ–­é‡å¯. Per Job æ–¹å¼: åœ¨ Yarn ä¸­å·²ç»å¾ˆå¥½çš„é›†æˆäº†è¿™ç§æ–¹å¼, å°±æ˜¯æ•´ä¸ªé›†ç¾¤çš„ç”Ÿå‘½å‘¨æœŸå’Œä»»åŠ¡è¿›è¡Œç»‘å®š, ä»»åŠ¡ç»“æŸ, é›†ç¾¤èµ„æºä¹Ÿéšç€æ’¤é”€, å”¯ä¸€çš„ç¼ºç‚¹å°±æ˜¯éƒ¨ç½²æ—¶é—´ä¸Šä¸å¦‚ Cluster session çš„æ–¹å¼, è¿™ç‚¹å…¶å®åœ¨å®é™…ç”Ÿäº§ä¸­å¯ä»¥å¿½ç•¥. 1.1 JobManager çš„å¯åŠ¨å› ä¸ºç‰ˆæœ¬å˜åŠ¨çš„å…³ç³» Jobmanager åœ¨ 1.5 ç‰ˆæœ¬çš„æ—¶å€™è¿›è¡Œäº†ä¸€æ¬¡å¤§æ”¹, å’Œä¸Šé¢çš„å›¾å¯èƒ½ç•¥æœ‰ä¸é€š, å…·ä½“å¯ä»¥å‚è§ FLIP-6, ä¸‹é¢èŠä¸€èŠä¸€èˆ¬ç”Ÿäº§ä¸­ JobManager å¦‚ä½•å¯åŠ¨çš„. ä¸Šå›¾å¯ä»¥çœ‹å‡ºåœ¨ 1.5 ä»¥åçš„æ–°ç‰ˆæœ¬ä¸­ JobManager å¤šå‡ºäº†ä¸¤ä¸ªç»„ä»¶, ä¸€ä¸ªæ˜¯ ResourceManager, ä¸»è¦è´Ÿè´£ç®¡ç† Flink è‡ªå·±çš„ TaskManager èµ„æº, æ³¨æ„è¿™ä¸ª ResourceManager å’Œ Yarn ä¸Šçš„ä¸æ˜¯åŒä¸€ä¸ª, ä¸¤è€…ç®¡ç†çš„èµ„æºä¸æ˜¯åŒä¸€çº§åˆ«, ç¬¬äºŒä¸ªæ˜¯ Dispatcher ä¸»è¦æ˜¯æä¾› client çš„ RPC æ¥å£, æä¾›å‘å¸ƒä»»åŠ¡çš„ä¸€ç³»åˆ—åŠŸèƒ½. è€Œ JobMaster ä¸»è¦è´Ÿè´£ä¸€ä¸ªä»»åŠ¡çš„ç”Ÿå‘½å‘¨æœŸ, æ¯ä¸ª Flink Job éƒ½æœ‰ä¸€ä¸ª JobMaster ä¸ä¹‹å¯¹åº”. 1.2 TaskManager çš„å¯åŠ¨TaskManager å…¶å®åŠŸèƒ½æ¯”è¾ƒç®€å•, æä¾›ä¸€äº›åŸºæœ¬çš„ RPC æœåŠ¡, ä¾› JobManager è¿›è¡Œè°ƒåº¦, ç¨åä¼šè®²åˆ° TaskManager å¦‚ä½•è¿è¡Œ JobManager æä¾›çš„ subTask. 2 Flink Job çš„å¯åŠ¨æˆ‘ä»¬å…ˆæ¥çœ‹çœ‹ä¸€ä¸ª Flink job çš„æ„æˆ Flink job æœ€æ ¸å¿ƒçš„æ„æˆå…¶å®å°±æ˜¯è¿™ä¸ª ENV, ç”¨æˆ·éœ€è¦é€šè¿‡è°ƒç”¨ ENV æ¥æ³¨å†Œç”¨æˆ·çš„ä»£ç é€»è¾‘, è€Œè¿™ä¸ª ENV å®šä¹‰äº†ä¸€ç³»åˆ— DAG ç”Ÿæˆçš„è§„åˆ™, æ¯”å¦‚ env.addSource æˆ‘ä»¬å¿…é¡»æŒ‡å®š Source çš„ç±»å‹, æ˜¯ DataStream è¿˜æ˜¯ DataSet, åˆæ¯”å¦‚ keyBy ä¹‹åè¿”å›çš„æ˜¯ KeyedStream, è¿™äº›è§„åˆ™éƒ½æ˜¯åœ¨ ENV é‡Œè¿›è¡Œäº†å®šä¹‰, ç”¨æˆ·åªè¦æ ¹æ®è§„åˆ™æ¥ä½¿ç”¨å³å¯, è€Œä¸”æ ¹æ® ENV çš„å®šä¹‰æˆ‘ä»¬å¯ä»¥åœ¨ä¸åŒçš„ç¯å¢ƒä¸­è¿è¡Œ Flink Job, å¦‚ä¸‹å›¾æ‰€ç¤º: æˆ‘ä»¬å¯ä»¥ä»¥ Flink å¼€å‘è€…çš„è§’åº¦æ€è€ƒå¦‚ä½•ä»ç”¨æˆ·ä»£ç åˆ°åº•å±‚å®ç°, è¿™ä¸€è¿‡ç¨‹å¿…ç„¶ä½¿ç”¨åˆ†å±‚ç»“æ„, ä¸‹é¢æ¥çœ‹ä¸€ä¸‹å„ä¸ªå±‚çº§çš„å·¥ä½œ: 2.1 Client ç«¯é¦–å…ˆåœ¨ Client ç«¯ç”Ÿæˆçš„ç¬¬ä¸€å±‚æ˜¯ User Rule, è¿™ä¸ªç®—æ˜¯ç”¨æˆ·ä»£ç åˆ° DAG çš„ç¬¬ä¸€å±‚æŠ½è±¡, è¿™é‡Œé¢åˆ¶å®šäº†å¾ˆå¤šè§„åˆ™, æ¥çº¦æŸç”¨æˆ·çš„è¡Œä¸º, å¼•å¯¼ç”¨æˆ·æ›´å¥½çš„ä½¿ç”¨ Flink ç¨‹åº. ç¬¬äºŒå±‚æ˜¯ Transformation å±‚, è¿™é‡Œçš„ Transformation ä¸»è¦æ˜¯å®Œæˆäº†å¯¹ç”¨æˆ·çš„å„ä¸ªç®—å­çš„å®šä¹‰, æ¯”å¦‚è¯´ addSource çš„æ“ä½œå³ä¸º SourceTransformation, filter æ“ä½œå³ä¸º OneInputTransformation, è¿™é‡Œé¢ä¸ç”¨æˆ·çš„ç®—å­ä¸€ä¸€å¯¹åº”, ä½†æ˜¯è¿™é‡Œé¢åŒºåˆ†å®šä¹‰äº† PhysicalTransformation, PhysicalTransformastion å¯ä»¥ç†è§£ä¸ºç‰©ç†ç®—å­, éœ€è¦è®¡ç®—èµ„æºè¿›è¡Œè®¡ç®—, è€Œ union, select è¿™äº›å¹¶éç‰©ç†ç®—å­, å¯ä»¥åœ¨åé¢çš„ç»“æ„ä¸­é€šè¿‡ç½‘ç»œ shuffle è¿›è¡Œåˆå¹¶, åœ¨è¿™ä¸€æ­¥æˆ‘ä»¬å¾—åˆ°çš„è¿˜æ˜¯ä¸€ä¸ª Transformation çš„åˆ—è¡¨, å®Œæ•´çš„æè¿°äº†ç”¨æˆ·å®šä¹‰çš„å„ä¸ªç®—å­, å¦‚ä¸‹å›¾æ‰€ç¤º: ç¬¬ä¸‰å±‚å°±æ˜¯æˆ‘ä»¬çš„ StreamGraph äº†, ä» Transformation è½¬åŒ–è€Œæ¥, æ„æˆäº†å›¾çš„ç»“æ„, å…¶ä¸­ StreamNode ä¸ºç‚¹, StreamEdge ä¸ºè¾¹, åœ¨ç¨‹åºé‡Œå­˜å…¥çš„éƒ¨åˆ†æ˜¯ä¸€å¼ é“¾è¡¨ç»“æ„, å¦‚ä¸‹å›¾æ‰€ç¤º: è¿™é‡Œé¢åŠ å…¥äº†ä¸€äº›ä¿¡æ¯, æ¯”å¦‚è¯´ slotSharingGroup, ä»è€Œå®šä¹‰è¿™äº›ç®—å­å¦‚ä½•åœ¨ slot é‡Œåˆ†é… åœ¨ Client é‡Œç”Ÿæˆçš„æœ€åä¸€å±‚å³ä¸º JobGraph, è¿™ä¹Ÿæ˜¯ Flink JobManager æ¥æ”¶çš„ä»»åŠ¡å¯¹è±¡, å…¶å®ä¸Šä¸€å±‚çš„ StreamGraph å·²ç»å®Œæˆäº†ä»»åŠ¡ DAG , ä¸ºä»€ä¹ˆè¿˜éœ€è¦ JobGraph å‘¢, å…¶å®æ˜¯ä¸ºäº†å…¼å®¹ Batch æ¨¡å¼, JobGraph ä½œä¸ºç»Ÿä¸€å±‚è¿›è¡Œå°è£…, åŒæ—¶æä¾›äº†è®¡ç®—ä¼˜åŒ–å³ setChain åŠŸèƒ½, å¯ä»¥å‡å°åºåˆ—åŒ–å’Œç½‘ç»œå¼€é”€, å¯èƒ½æœ‰çš„åŒå­¦ä¼šå¯¹ chain çš„æ¦‚å¿µæœ‰æ‰€ç–‘æƒ‘ , æ¯”å¦‚è¯´ map ç®—å­åé¢æ¥å…¥ä¸€ä¸ª filter ç®—å­, è€Œä¸”æ˜¯åŒç­‰æ•°é‡çš„, è¿™æ ·æˆ‘å°±å¯ä»¥æŠŠ map å’Œ filter æŠ½è±¡æˆä¸€ä¸ªè®¡ç®—è¿›è¡Œè‡ªåŠ¨ä¼˜åŒ–, è¦è¾¾åˆ° chain çš„æ¡ä»¶æ¯”è¾ƒè‹›åˆ», å…·ä½“å¯ä»¥æŸ¥çœ‹ä»£ç  åœ¨ JobGraph é‡Œä¸»è¦ç»“æ„å°±æ˜¯ JobVertex å’Œ JobEdge, åœ¨å‰é¢æ‰€è¯´çš„ chain æ–¹æ³•å, å¯ä»¥åˆå¹¶ ä¸¤ä¸ªæˆ–å¤šä¸ª StreamNode ä¸ºä¸€ä¸ª JobVertex, å¦‚ä¸‹å›¾æ‰€ç¤º: å¥½äº†è¿™é‡ŒåŸºæœ¬å°±èŠå®Œäº† Client ç«¯çš„å·¥ä½œ 2.2 JobManager ç«¯JobManager ç«¯æ¥æ”¶åˆ° client æäº¤çš„ JobGraph, æ ¹æ® JobgRaph æ¥ç”Ÿæˆ ExcutionGraph, è¿™ä¸ª ExcutionGraph ç®€å•æ¥è¯´å°±æ˜¯ JobGraph çš„å¹¶è¡Œç‰ˆæœ¬, å®šä¹‰å…·ä½“æ‰§è¡Œçš„ç»†èŠ‚: è¿™é‡Œçœç•¥äº†ä¸€éƒ¨åˆ†(å…¶ä»–éƒ¨åˆ†ä¸€æ ·), ä¸»è¦æ¥çœ‹çœ‹å‡ ä¸ªç»“æ„, ExecutionJobVertex ä¸»è¦ç±»ä¼¼äº JobGraph çš„ Node, ç®¡ç†æ‰€æœ‰ä¸‹é¢çš„å¹¶è¡ŒçŠ¶æ€, ExecutionVertex æ˜¯æœ€å°çš„æ‰§è¡Œå•ä½(ä¹Ÿæ˜¯æˆ‘ä»¬æ‰€è¯´çš„ SubTask, æ¯ä¸ª SubTask éƒ½ç”±ä¸€ä¸ª thread å¯åŠ¨), åŒç† IntermediateResult è´Ÿè´£å¤šä¸ª IntermediateResultPartition. åˆ°è¿™é‡Œå®Œæˆäº† ExecutionGraph, è€Œéœ€è¦éƒ¨ç½²åˆ° TaskManager ä¸­é—´è¿˜éœ€è¦ä¸ºæ¯ä¸ª Vertex ç”Ÿæˆ TaskDeploymentDescriptor, æ¥æè¿°åœ¨ TaskManager ä¸­çš„å…·ä½“ä»»åŠ¡, æ¯”å¦‚ inputGates(è¾“å…¥), producedPartition(è¾“å‡º), ç„¶åæäº¤ç»™ TaskManager 2.3 TaskManager ç«¯ä¸Šé¢æåˆ° JobManager ç”Ÿæˆ TaskDeploymentDescriptor æäº¤ç»™ TaskManager, TaskManager å°±æ¯”è¾ƒå¥½åŠäº†, åªéœ€è¦è®¾å®šè¿™ä¸ª Task çš„è¾“å…¥å’Œè¾“å‡ºè¿˜æœ‰ run è¿™ä¸ª Task å³å¯, è¿™ä¸€å±‚å°±æ˜¯æ‰€è°“çš„ç‰©ç†æ‰§è¡Œå±‚. è€Œå¯¹äºåˆ†å¸ƒåœ¨å„ä¸ª TaskManager ä¸Šçš„ SubTask æ˜¯å¦‚ä½•é€šä¿¡çš„å‘¢, å¯ä»¥çœ‹ä¸‹å›¾: å¯¹äºåœ¨åŒä¸€ä¸ª TaskManager å†…çš„ subTask, é€šè¿‡ InputGate å’Œ ResultPartition ç›´æ¥è¿›è¡Œé€šä¿¡, è€Œå¯¹äºä¸åœ¨åŒä¸€ä¸ª TaskManager é‡Œéœ€è¦å€ŸåŠ© Netty å±‚è¿›è¡Œç½‘ç»œé€šä¿¡: è¿˜æœ‰ä¸€ç‚¹å€¼å¾—æ³¨æ„çš„æ˜¯, å½“æœ‰æ¶ˆæ¯æ¥åˆ°æ—¶ ResultPartition ä¼šç»™ InputGate å‘é€ notifyDataAvallable, å‘Šè¯‰ä¸‹æ¸¸è¯¥æ¥å–æ•°äº†, å¦‚æœä¸‹æ¸¸æ¯”è¾ƒå¿™æ²¡ç©ºæ¥å–çš„è¯å°±ä¼šé˜»å¡, è¿›è€Œé€çº§å‘ä¸Šä¼ å¯¼äº§ç”Ÿè¢«å‹, è¿™ç§ç¼“å†² buffer çš„æ–¹å¼æ˜¯ flink å¤©ç„¶å¤„ç†è¢«å‹çš„æ–¹æ³•. è‡³æ­¤æ•´ä¸ª Flink Job çš„æµç¨‹å·²ç»ç»“æŸ, ä½†æ¯•ç«Ÿ Flink æ˜¯ä¸€ä¸ªåºå¤§çš„å¼€æºé¡¹ç›®, å¾ˆå¤šç»†èŠ‚æ¯”å¦‚ Checkpoint æœºåˆ¶, çŠ¶æ€å­˜å‚¨è¿™äº›é‡è¦çš„æ¦‚å¿µè¿˜æœªæ¶‰åŠ, æœ‰å…´è¶£çš„è¯»è€…å¯ä»¥å‚è€ƒä¼˜ç§€çš„ Blog è¿›ä¸€æ­¥ç ”ç©¶ å‚è€ƒèµ„æ–™: Flink å®˜ç½‘ FLIP Jarkâ€™s Blog ç‰å…†çš„åšå®¢ Flink å®˜æ–¹åšå®¢","categories":[{"name":"BigData","slug":"BigData","permalink":"http://taizilongxu.github.io/wiki/categories/BigData/"}],"tags":[]},{"title":"é»‘è‹¹æœåŸç†","slug":"Hackintosh/principel","date":"2019-12-08T12:19:05.000Z","updated":"2020-02-02T16:48:27.214Z","comments":true,"path":"wiki/Hackintosh/principel/","link":"","permalink":"http://taizilongxu.github.io/wiki/wiki/Hackintosh/principel/","excerpt":"","text":"åŸç†æ“ä½œç³»ç»Ÿæ­£å¸¸å¯åŠ¨æ–¹å¼ä¸º UEFI æˆ–è€… BIOS, è‹¹æœå› ä¸ºéœ€è¦å„ç§éªŒè¯æ‰€ä»¥ä¸­é—´éœ€è¦è¿›è¡Œä¸€å±‚ mock, å°±æ˜¯å¸¸è§çš„ Clover UEFI -&gt; Clover -&gt; Mac OS æ‰€ä»¥è¯´å¦‚æœå¼„é»‘è‹¹æœæœ€ä¸»è¦çš„æ˜¯è°ƒæ•´å¥½è‹¹æœçš„ EFI å³å¯, ç†è®ºä¸Šå¯ä»¥æ— ç—›æ›´æ–° https://github.com/daliansky/Hackintosh æ”¶é›†å„ç§å‹å·ä¸»æœºçš„ EFI é…ç½® ä¸»æ¿: B360i ROG CPU: i5-9600k å®‰è£…æ–¹æ³•å‚è€ƒ é»‘æœå°å…µ çš„åšå®¢, ç›®å‰ä¸ºæ­¢è§è¿‡æœ€æƒå¨çš„åšä¸»äº† æ ¹æ® github æœç´¢ https://github.com/FisherWY/Asus-B360i-Hackintosh-EFI æŒ‰ç…§æ•™ç¨‹ä¸€æ­¥æ­¥æ¥å³å¯ å‚è€ƒèµ„æ–™ å…³äºé»‘è‹¹æœä½ å¿…é¡»è¦çŸ¥é“çš„äº‹å„¿ tonymacx86","categories":[{"name":"Hackintosh","slug":"Hackintosh","permalink":"http://taizilongxu.github.io/wiki/categories/Hackintosh/"}],"tags":[]},{"title":"ç¯å¢ƒå˜é‡","slug":"Linux/env","date":"2019-11-12T08:14:06.000Z","updated":"2020-01-15T12:06:59.171Z","comments":true,"path":"wiki/Linux/env/","link":"","permalink":"http://taizilongxu.github.io/wiki/wiki/Linux/env/","excerpt":"","text":"","categories":[{"name":"Linux","slug":"Linux","permalink":"http://taizilongxu.github.io/wiki/categories/Linux/"}],"tags":[],"author":"Limbo"},{"title":"unix å“²å­¦","slug":"Linux/unix","date":"2019-11-12T08:14:06.000Z","updated":"2020-01-15T12:06:59.172Z","comments":true,"path":"wiki/Linux/unix/","link":"","permalink":"http://taizilongxu.github.io/wiki/wiki/Linux/unix/","excerpt":"","text":"https://zh.wikipedia.org/wiki/Unix%E5%93%B2%E5%AD%A6","categories":[{"name":"Linux","slug":"Linux","permalink":"http://taizilongxu.github.io/wiki/categories/Linux/"}],"tags":[],"author":"Limbo"},{"title":"shell navigation","slug":"Linux/shell_navigation","date":"2019-11-12T08:14:06.000Z","updated":"2020-01-21T08:36:22.633Z","comments":true,"path":"wiki/Linux/shell_navigation/","link":"","permalink":"http://taizilongxu.github.io/wiki/wiki/Linux/shell_navigation/","excerpt":"","text":"","categories":[{"name":"Linux","slug":"Linux","permalink":"http://taizilongxu.github.io/wiki/categories/Linux/"}],"tags":[],"author":"Limbo"},{"title":"Ssh","slug":"Tools/ssh","date":"2019-11-05T09:00:36.000Z","updated":"2020-01-15T12:06:59.163Z","comments":true,"path":"wiki/Tools/ssh/","link":"","permalink":"http://taizilongxu.github.io/wiki/wiki/Tools/ssh/","excerpt":"","text":"","categories":[{"name":"Tools","slug":"Tools","permalink":"http://taizilongxu.github.io/wiki/categories/Tools/"}],"tags":[],"author":"Limbo"},{"title":"Git åŸç†","slug":"Tools/git","date":"2019-11-05T08:58:19.000Z","updated":"2020-01-15T12:06:59.164Z","comments":true,"path":"wiki/Tools/git/","link":"","permalink":"http://taizilongxu.github.io/wiki/wiki/Tools/git/","excerpt":"","text":"","categories":[{"name":"Tools","slug":"Tools","permalink":"http://taizilongxu.github.io/wiki/categories/Tools/"}],"tags":[],"author":"Limbo"},{"title":"ä½¿ç”¨ maven shade plugin è§£å†³é‡å¤ç±»é—®é¢˜","slug":"Language/Java/shaded","date":"2019-11-03T02:36:03.000Z","updated":"2020-01-15T12:06:59.169Z","comments":true,"path":"wiki/Language/Java/shaded/","link":"","permalink":"http://taizilongxu.github.io/wiki/wiki/Language/Java/shaded/","excerpt":"","text":"ä½¿ç”¨ Maven å¤§æ¦‚éƒ½é‡åˆ°è¿‡é‡å¤ç±»çš„é—®é¢˜, è½»åˆ™ç¨‹åºå¼‚å¸¸, é‡åˆ™æ— æ³•è¿è¡Œ, ä¸€èˆ¬æœ‰ä¸€ä¸‹å‡ ä¸ªæ–¹æ³•æ¥å¤„ç†: maven &lt;exclusions&gt; ç”¨æ¥æ’é™¤é‡å¤ç±», åªå¯¹å…¼å®¹æ€§å¥½çš„ä¾èµ–æœ‰æ•ˆ, å¦‚æœä¸¤ä¸ªç‰ˆæœ¬ä¾èµ–çš„æ¥å£æœ‰å˜åŠ¨å°± GG äº† å¯ä»¥ç¥­å‡ºå¤§æ‹› classloader æ¥åŠ è½½ä¸åŒçš„ç±», è¿™ä¸ªæ–¹æ³•å¯ä»¥ cover æ‰€æœ‰é‡å¤ç±», ä½†æ˜¯æœ‰ä¸ªç¼ºç‚¹å°±æ˜¯ä»£ç ä¾µå…¥æ€§æ¯”è¾ƒå¼º, æˆ‘å°±æ˜¯æƒ³å¼•ä¸¤ä¸ªç‰ˆæœ¬è¿˜è¦å†™ä¸€å †ä»£ç , å²‚ä¸æ˜¯è›‹ç–¼ ä½¿ç”¨æ¡†æ¶, æ¯”å¦‚è¯´é˜¿é‡Œçš„ sofa-jarslink, å…¶æœ¬è´¨ä¹Ÿæ˜¯åŸºäº classloader åœ¨åº•å±‚è¿›è¡Œå°è£… ä½¿ç”¨ Maven Shade Plugin è¿›è¡Œç±»åè½¬æ¢, ç„¶åå¼•å…¥ä¾èµ–, å¯¹äºç”¨ 1 æ–¹æ³•ä¸è§æ•ˆ, åˆä¸æƒ³ä½¿ç”¨ 2 æ–¹æ³•æ¥è¯´, è¿™ä¸ªæ˜¯å¾ˆå¥½çš„æŠ˜è¡·, ä¸ç”¨å¯¹ä»£ç è¿›è¡Œæ›´æ”¹, åªéœ€è¦ä¿®æ”¹ pom æ–‡ä»¶ å» å®˜ç½‘ çœ‹çœ‹ Maven Shade Plugin å¯ä»¥å¹²ä»€ä¹ˆ? å¯ä»¥ç”Ÿæˆ Uber JAR, è€Œä¸”å¯ä»¥å†³å®š include å’Œ exclude é‡å‘½å class é˜²æ­¢æ‰“æˆçš„ Uber Jar ç±»å†²çª è®¾ç½® mainClass Resource è½¬æ¢ ä»Šå¤©é‡ç‚¹æ¥è¯´ä¸€ä¸‹å¦‚ä½•ä½¿ç”¨ Maven Shade Plugin æ¥å®ç°å¤šç‰ˆæœ¬åŠ è½½ Maven ä¾èµ–åŸåˆ™ ä¼˜å…ˆæŒ‰ç…§ä¾èµ–ç®¡ç†ä¸­ &lt;dependencyManagement&gt; æŒ‡å®šç‰ˆæœ¬è¿›è¡Œä»²è£ è‹¥æ— ç‰ˆæœ¬å£°æ˜, åˆ™æŒ‰ç…§æœ€çŸ­è·¯å¾„ä¼˜å…ˆ è‹¥è·¯å¾„ä¸€è‡´, åˆ™é€‰æ‹©æœ€å…ˆå£°æ˜çš„ç‰ˆæœ¬ é—®é¢˜å·¥ä½œä¸­æˆ‘ä»¬æ­å»ºçš„ Flink SQL å¹³å°éœ€è¦è¿›è¡Œ Kafka çš„è¿æ¥, è›‹ç–¼çš„æ˜¯ç”Ÿäº§ä¸Š Kafka ç‰ˆæœ¬æœ‰å‡ ç§, çŸ­æ—¶é—´å†…ä¸èƒ½ç»Ÿä¸€, éœ€è¦å…¼å®¹å„ä¸ªç‰ˆæœ¬, å¦‚ä¸‹å›¾æ‰€ç¤º: æ ¹æ® Maven ä¾èµ–çš„åŸåˆ™, åœ¨ pom é‡Œä¼˜å…ˆåŠ è½½äº† Kafka-client-0.8, è½®åˆ°åŠ è½½ Kafka-client-0.11 è®¤ä¸ºè¯¥ä¾èµ–æ˜¯é‡å¤çš„, å¹¶ä¸åœ¨ classloader é‡Œè¿›è¡ŒåŠ è½½, è§£å†³æ–¹æ³• ä¸ºäº†ä¾¿äºç»´æŠ¤ç®¡ç†å¯ä»¥å°†åŸæ¥çš„å•æ¨¡å—æ¢ä¸ºå¤šæ¨¡å—, åˆ†åˆ«æ–°å»º shaded-Kafka-connector-0.8 å’Œ shaded-Kafka-connector-0.11 æ¨¡å—, æ³¨æ„é‡Œé¢ä¸ç”¨å†™ä»£ç , ä»…ä»…å†™ä¸€ä¸ª pom æ–‡ä»¶å³å¯ shaded æ¨¡å—ä¸­å¼•å…¥å„è‡ªçš„ Kafka-connector ä¾èµ–, å°† Kafka-client æ¨¡å—ç”¨ Maven shade plugin relocation åˆ° shaded-Kafka-client æˆ‘ä»¬çš„åŸå·¥ç¨‹ä¸å†å¼•ç”¨ Kafka-connector æ¨¡å—, è€Œæ˜¯åˆ†åˆ«å¼•ç”¨ shade-Kafka-connector, è¿™æ ·å°±å°†ä¸é€šçš„ Kafka-client è¿›è¡Œäº†éš”ç¦» è¿™ä¸ªæ–¹æ³•æœ‰ä¸€ç‚¹åå¤„å°±æ˜¯, ä½ åªèƒ½ä½¿ç”¨ç”Ÿæˆå‡ºæ¥çš„ Uber JAR æ¥è¿è¡Œæ‰ä¸ä¼šå†²çª, åƒ Idea é‡Œé¢ä¸ä¼šè¯†åˆ«è¿™ç§ shaded çš„åŒ…, åœ¨ Idea é‡Œè¿è¡Œè¿˜æ˜¯ä¼šæŠ¥é”™çš„, ç›¸å…³ issue å¼€æºè½¯ä»¶ç”¨æ³•è®¸å¤šå¼€æºè½¯ä»¶ä¹Ÿé¢ä¸´ç€è¿™ä¸ªé—®é¢˜, æ¯”å¦‚è¯´è‡­åæ˜­è‘—çš„ guava åœ¨å‡çº§çš„é“è·¯ä¸Šç»ä¸å¦¥å, å¯¼è‡´å…¼å®¹æ€§æå·®, Flink å•ç‹¬ç”¨ä¸€ä¸ª flink-shade æ¥å•ç‹¬ shade ä¸€ä»½è¿›è¡Œå¼•ç”¨ èµ„æ–™ To shade or not to shade","categories":[{"name":"Language","slug":"Language","permalink":"http://taizilongxu.github.io/wiki/categories/Language/"},{"name":"Java","slug":"Language/Java","permalink":"http://taizilongxu.github.io/wiki/categories/Language/Java/"}],"tags":[],"author":"Limbo"}]}